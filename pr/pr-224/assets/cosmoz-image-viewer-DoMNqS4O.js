const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./jspdf.es-B1tcw0N2.js","./iframe-DWfiveKH.js"])))=>i.map(i=>d[i]);
import{r as ei,D as Be,M as ti,u as B,v as oe,h as Oe,E as se,p as si,A as Y,b as v,j as ii,_ as ri,n as ni}from"./iframe-DWfiveKH.js";let Ne,_s=0;function $t(t){Ne=t}function Tt(){Ne=null,_s=0}function ai(){return _s++}const qe=Symbol("haunted.phase"),Ee=Symbol("haunted.hook"),Lt=Symbol("haunted.update"),Rt=Symbol("haunted.commit"),G=Symbol("haunted.effects"),fe=Symbol("haunted.layoutEffects"),at="haunted.context";class oi{update;host;virtual;[Ee];[G];[fe];constructor(e,s){this.update=e,this.host=s,this[Ee]=new Map,this[G]=[],this[fe]=[]}run(e){$t(this);let s=e();return Tt(),s}_runEffects(e){let s=this[e];$t(this);for(let r of s)r.call(this);Tt()}runEffects(){this._runEffects(G)}runLayoutEffects(){this._runEffects(fe)}teardown(){this[Ee].forEach(s=>{typeof s.teardown=="function"&&s.teardown(!0)})}}const li=Promise.resolve().then.bind(Promise.resolve());function ys(){let t=[],e;function s(){e=null;let r=t;t=[];for(var i=0,n=r.length;i<n;i++)r[i]()}return function(r){t.push(r),e==null&&(e=li(s))}}const ui=ys(),kt=ys();class ci{renderer;host;state;[qe];_updateQueued;_active;constructor(e,s){this.renderer=e,this.host=s,this.state=new oi(this.update.bind(this),s),this[qe]=null,this._updateQueued=!1,this._active=!0}update(){this._active&&(this._updateQueued||(ui(()=>{let e=this.handlePhase(Lt);kt(()=>{this.handlePhase(Rt,e),kt(()=>{this.handlePhase(G)})}),this._updateQueued=!1}),this._updateQueued=!0))}handlePhase(e,s){switch(this[qe]=e,e){case Rt:this.commit(s),this.runEffects(fe);return;case Lt:return this.render();case G:return this.runEffects(G)}}render(){return this.state.run(()=>this.renderer.call(this.host,this.host))}runEffects(e){this.state._runEffects(e)}teardown(){this.state.teardown()}pause(){this._active=!1}resume(){this._active=!0}}const di=(...t)=>{const e=new CSSStyleSheet;return e.replaceSync(t.join("")),e},hi=t=>t?.map(e=>typeof e=="string"?di(e):e),fi=(t="")=>t.replace(/-+([a-z])?/g,(e,s)=>s?s.toUpperCase():"");function pi(t){class e extends ci{frag;renderResult;constructor(i,n,a){super(i,a||n),this.frag=n}commit(i){this.renderResult=t(i,this.frag)}}function s(r,i,n){const a=(n||i||{}).baseElement||HTMLElement,{observedAttributes:o=[],useShadowDOM:l=!0,shadowRootInit:u={},styleSheets:c}=n||i||{},h=hi(r.styleSheets||c);class d extends a{_scheduler;static get observedAttributes(){return r.observedAttributes||o||[]}constructor(){if(super(),l===!1)this._scheduler=new e(r,this);else{const m=this.attachShadow({mode:"open",...u});h&&(m.adoptedStyleSheets=h),this._scheduler=new e(r,m,this)}}connectedCallback(){this._scheduler.resume(),this._scheduler.update(),this._scheduler.renderResult?.setConnected(!0)}disconnectedCallback(){this._scheduler.pause(),this._scheduler.teardown(),this._scheduler.renderResult?.setConnected(!1)}attributeChangedCallback(m,_,y){if(_===y)return;let P=y===""?!0:y;Reflect.set(this,fi(m),P)}}function f(p){let m=p,_=!1;return Object.freeze({enumerable:!0,configurable:!0,get(){return m},set(y){_&&m===y||(_=!0,m=y,this._scheduler&&this._scheduler.update())}})}const g=new Proxy(a.prototype,{getPrototypeOf(p){return p},set(p,m,_,y){let P;return m in p?(P=Object.getOwnPropertyDescriptor(p,m),P&&P.set?(P.set.call(y,_),!0):(Reflect.set(p,m,_,y),!0)):(typeof m=="symbol"||m[0]==="_"?P={enumerable:!0,configurable:!0,writable:!0,value:_}:P=f(_),Object.defineProperty(y,m,P),P.set&&P.set.call(y,_),!0)}});return Object.setPrototypeOf(d.prototype,g),d}return s}class j{id;state;constructor(e,s){this.id=e,this.state=s}}function gi(t,...e){let s=ai(),r=Ne[Ee],i=r.get(s);return i||(i=new t(s,Ne,...e),r.set(s,i)),i.update(...e)}function H(t){return gi.bind(null,t)}function bs(t){return H(class extends j{callback;lastValues;values;_teardown;constructor(e,s,r,i){super(e,s),t(s,this)}update(e,s){this.callback=e,this.values=s}call(){const e=!this.values||this.hasChanged();this.lastValues=this.values,e&&this.run()}run(){this.teardown(),this._teardown=this.callback.call(this.state)}teardown(e){typeof this._teardown=="function"&&(this._teardown(),this._teardown=void 0),e&&(this.lastValues=this.values=void 0)}hasChanged(){return!this.lastValues||this.values.some((e,s)=>this.lastValues[s]!==e)}})}function Ps(t,e){t[G].push(e)}const $=bs(Ps),mi=t=>t instanceof Element?t:t.startNode||t.endNode||t.parentNode,_i=H(class extends j{Context;value;_ranEffect;_unsubscribe;constructor(t,e,s){super(t,e),this._updater=this._updater.bind(this),this._ranEffect=!1,this._unsubscribe=null,Ps(e,this)}update(t){return this.Context!==t&&(this._subscribe(t),this.Context=t),this.value}call(){this._ranEffect||(this._ranEffect=!0,this._unsubscribe&&this._unsubscribe(),this._subscribe(this.Context),this.state.update())}_updater(t){this.value=t,this.state.update()}_subscribe(t){const e={Context:t,callback:this._updater};mi(this.state.host).dispatchEvent(new CustomEvent(at,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));const{unsubscribe:r=null,value:i}=e;this.value=r?i:t.defaultValue,this._unsubscribe=r}teardown(){this._unsubscribe&&this._unsubscribe()}});function yi(t){return e=>{const s={Provider:class extends HTMLElement{listeners;_value;constructor(){super(),this.style.display="contents",this.listeners=new Set,this.addEventListener(at,this)}disconnectedCallback(){this.removeEventListener(at,this)}handleEvent(r){const{detail:i}=r;i.Context===s&&(i.value=this.value,i.unsubscribe=this.unsubscribe.bind(this,i.callback),this.listeners.add(i.callback),r.stopPropagation())}unsubscribe(r){this.listeners.delete(r)}set value(r){this._value=r;for(let i of this.listeners)i(r)}get value(){return this._value}},Consumer:t(function({render:r}){const i=_i(s);return r(i)},{useShadowDOM:!1}),defaultValue:e};return s}}const D=H(class extends j{value;values;constructor(t,e,s,r){super(t,e),this.value=s(),this.values=r}update(t,e){return this.hasChanged(e)&&(this.values=e,this.value=t()),this.value}hasChanged(t=[]){return t.some((e,s)=>this.values[s]!==e)}}),C=(t,e)=>D(()=>t,e);function bi(t,e){t[fe].push(e)}const Mt=bs(bi),V=H(class extends j{args;constructor(t,e,s){super(t,e),this.updater=this.updater.bind(this),typeof s=="function"&&(s=s()),this.makeArgs(s)}update(){return this.args}updater(t){const[e]=this.args;typeof t=="function"&&(t=t(e)),!Object.is(e,t)&&(this.makeArgs(t),this.state.update())}makeArgs(t){this.args=Object.freeze([t,this.updater])}}),Ve=H(class extends j{reducer;currentState;constructor(t,e,s,r,i){super(t,e),this.dispatch=this.dispatch.bind(this),this.currentState=i!==void 0?i(r):r}update(t){return this.reducer=t,[this.currentState,this.dispatch]}dispatch(t){this.currentState=this.reducer(this.currentState,t),this.state.update()}}),Pi=/([A-Z])/gu;H(class extends j{property;eventName;constructor(t,e,s,r){if(super(t,e),this.state.virtual)throw new Error("Can't be used with virtual components.");this.updater=this.updater.bind(this),this.property=s,this.eventName=s.replace(Pi,"-$1").toLowerCase()+"-changed",this.state.host[this.property]==null&&(typeof r=="function"&&(r=r()),r!=null&&this.updateProp(r))}update(t,e){return[this.state.host[this.property],this.updater]}updater(t){const e=this.state.host[this.property];typeof t=="function"&&(t=t(e)),!Object.is(e,t)&&this.updateProp(t)}updateProp(t){this.notify(t).defaultPrevented||(this.state.host[this.property]=t)}notify(t){const e=new CustomEvent(this.eventName,{detail:{value:t,path:this.property},cancelable:!0});return this.state.host.dispatchEvent(e),e}});function ws(t){return D(()=>({current:t}),[])}function wi({render:t}){const e=pi(t),s=yi(e);return{component:e,createContext:s}}const bt={ATTRIBUTE:1,CHILD:2},ie=t=>(...e)=>({_$litDirective$:t,values:e});let Ye=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,s,r){this._$Ct=e,this._$AM=s,this._$Ci=r}_$AS(e,s){return this.update(e,s)}update(e,s){return this.render(...s)}};const pe=(t,e)=>{const s=t._$AN;if(s===void 0)return!1;for(const r of s)r._$AO?.(e,!1),pe(r,e);return!0},$e=t=>{let e,s;do{if((e=t._$AM)===void 0)break;s=e._$AN,s.delete(t),t=e}while(s?.size===0)},vs=t=>{for(let e;e=t._$AM;t=e){let s=e._$AN;if(s===void 0)e._$AN=s=new Set;else if(s.has(t))break;s.add(t),Si(e)}};function vi(t){this._$AN!==void 0?($e(this),this._$AM=t,vs(this)):this._$AM=t}function xi(t,e=!1,s=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let n=s;n<r.length;n++)pe(r[n],!1),$e(r[n]);else r!=null&&(pe(r,!1),$e(r));else pe(this,t)}const Si=t=>{t.type==bt.CHILD&&(t._$AP??=xi,t._$AQ??=vi)};class Pt extends Ye{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,s,r){super._$AT(e,s,r),vs(this),this.isConnected=e._$AU}_$AO(e,s=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),s&&(pe(this,e),$e(this))}setValue(e){if(ei(this._$Ct))this._$Ct._$AI(e,this);else{const s=[...this._$Ct._$AH];s[this._$Ci]=e,this._$Ct._$AI(s,this,0)}}disconnected(){}reconnected(){}}const{component:Ke}=wi({render:Be});const zt=(t,e,s)=>{const r=new Map;for(let i=e;i<=s;i++)r.set(t[i],i);return r},Ci=ie(class extends Ye{constructor(t){if(super(t),t.type!==bt.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,s){let r;s===void 0?s=e:e!==void 0&&(r=e);const i=[],n=[];let a=0;for(const o of t)i[a]=r?r(o,a):a,n[a]=s(o,a),a++;return{values:n,keys:i}}render(t,e,s){return this.dt(t,e,s).values}update(t,[e,s,r]){const i=ti(t),{values:n,keys:a}=this.dt(e,s,r);if(!Array.isArray(i))return this.ut=a,n;const o=this.ut??=[],l=[];let u,c,h=0,d=i.length-1,f=0,g=n.length-1;for(;h<=d&&f<=g;)if(i[h]===null)h++;else if(i[d]===null)d--;else if(o[h]===a[f])l[f]=B(i[h],n[f]),h++,f++;else if(o[d]===a[g])l[g]=B(i[d],n[g]),d--,g--;else if(o[h]===a[g])l[g]=B(i[h],n[g]),oe(t,l[g+1],i[h]),h++,g--;else if(o[d]===a[f])l[f]=B(i[d],n[f]),oe(t,i[h],i[d]),d--,f++;else if(u===void 0&&(u=zt(a,f,g),c=zt(o,h,d)),u.has(o[h]))if(u.has(o[d])){const p=c.get(a[f]),m=p!==void 0?i[p]:null;if(m===null){const _=oe(t,i[h]);B(_,n[f]),l[f]=_}else l[f]=B(m,n[f]),oe(t,i[h],m),i[p]=null;f++}else Oe(i[d]),d--;else Oe(i[h]),h++;for(;f<=g;){const p=oe(t,l[g+1]);B(p,n[f]),l[f++]=p}for(;h<=d;){const p=i[h++];p!==null&&Oe(p)}return this.ut=a,si(t,l),se}}),Qe=new WeakMap,xs=ie(class extends Pt{render(t){return Y}update(t,[e]){const s=e!==this.G;return s&&this.G!==void 0&&this.rt(void 0),(s||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),Y}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let s=Qe.get(e);s===void 0&&(s=new WeakMap,Qe.set(e,s)),s.get(this.G)!==void 0&&this.G.call(this.ht,void 0),s.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?Qe.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});const Ss="important",Oi=" !"+Ss,Cs=ie(class extends Ye{constructor(t){if(super(t),t.type!==bt.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,s)=>{const r=t[s];return r==null?e:e+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:s}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?s.removeProperty(r):s[r]=null);for(const r in e){const i=e[r];if(i!=null){this.ft.add(r);const n=typeof i=="string"&&i.endsWith(Oi);r.includes("-")||n?s.setProperty(r,n?i.slice(0,-11):i,n?Ss:""):s[r]=i}}return se}});const Ei={},Te=ie(class extends Ye{constructor(){super(...arguments),this.ot=Ei}render(t,e){return e()}update(t,[e,s]){if(Array.isArray(e)){if(Array.isArray(this.ot)&&this.ot.length===e.length&&e.every((r,i)=>r===this.ot[i]))return se}else if(this.ot===e)return se;return this.ot=Array.isArray(e)?Array.from(e):e,this.render(e,s)}});class Ai extends Promise{constructor(e){const s={};super((r,i)=>Object.assign(s,{resolve:r,reject:i})),Object.assign(this,s),e?.(s.resolve,s.reject)}resolve=()=>{}}const Os={host:{position:"relative",display:"flex",overflow:"hidden"},slide:{position:"static",width:"100%",height:"100%"}},Ni=t=>{const{slide:e}=t,[s,r]=V([]);return Mt(()=>{Object.assign(t.style,Os.host)},[]),$(()=>{if(e==null)return;const i={animationEnd$:new Ai,...e};r((n=[])=>{const a=n.findIndex(({id:o,out:l})=>o===i.id&&l!==!0);return a!==-1?[...n.slice(0,a),i,...n.slice(a+1,n.length)]:[...n,i]})},[e]),Mt(async()=>{if(s.filter(l=>!l.out).length<2){const l=s[0];l&&requestAnimationFrame(()=>requestAnimationFrame(()=>l.animationEnd$.resolve()));return}const i=s[s.length-1],n=s[s.length-2],a=i.el,o=n.el;n.out=!0,a&&o&&await i.animation?.(a,o),r((l=[])=>l.filter(u=>u!==n))},[s]),{slides:s}},$i=t=>v`<div
		${xs(e=>Object.assign(t,{el:e}))}
		class="slide"
		style=${Cs(Os.slide)}
	>
		${Te([t],()=>t.content??t.render?.(t))}
	</div>`,Ti=({slides:t})=>Te([t],()=>Ci(t,({id:e})=>e,$i)),Li=t=>Ti(Ni(t));customElements.define("cosmoz-slider",Ke(Li,{useShadowDOM:!1}));const ot=(t,e)=>{const s=t.animate([{position:"absolute",transform:"translateX(100%)"},{transform:"translateX(0%)"}],{duration:200,fill:"none",easing:"ease-in-out"}),r=e.animate([{},{position:"absolute",transform:"translateX(-100%)"}],{duration:200,fill:"none",easing:"ease-in-out"});return Promise.all([s.finished,r.finished])},It=(t,e)=>{const s=t.animate([{position:"absolute",transform:"translateX(-100%)"},{transform:"translateX(0%)"}],{duration:200,fill:"none",easing:"ease-in-out"}),r=e.animate([{},{position:"absolute",transform:"translateX(100%)"}],{duration:200,fill:"none",easing:"ease-in-out"});return Promise.all([s.finished,r.finished])},Ri=t=>{const e=ws(void 0);return $(()=>{e.current=t},[t]),e.current},ki=t=>t,Mi=(t,e,s)=>t.find(r=>s(r)===s(e))??t[0],zi=()=>({id:Math.random(),content:Y,animation:ot}),Ii=(t,{initial:e,render:s,id:r=ki,loop:i})=>{const[n,a]=V(()=>e??t[0]),o=D(()=>t.indexOf(n),[t,n]),l=Ri(o),u=C(()=>a(()=>i?t[(o-1+t.length)%t.length]:t[Math.max(0,Math.min(t.length-1,o-1))]),[t,o,i]),c=C(()=>a(()=>i?t[(o+1)%t.length]:t[Math.max(0,Math.min(t.length-1,o+1))]),[t,o,i]),h=C(p=>a(()=>t[p]),[t]),d=i?!1:o<=0,f=i?!1:o===t.length-1,g=o>(l??-1)?i&&o===t.length-1&&l===0?It:ot:i&&o===0&&l===t.length-1?ot:It;return $(()=>a(p=>p?t.indexOf(p)>=0?p:Mi(t,p,r):t[0]),[t]),{index:o,item:n,slide:D(()=>n==null?zi():{id:r(n),render:p=>s(n,{next:c,prev:u,goto:h,first:d,last:f,...p}),animation:g},[n,s]),prev:u,next:c,goto:h,first:d,last:f}},Es=H(class extends j{values;constructor(t,e,s,r){super(t,e),Object.assign(e.host,s),this.values=r}update(t,e){this.hasChanged(e)&&(this.values=e,Object.assign(this.state.host,t))}hasChanged(t=[]){return t.some((e,s)=>this.values[s]!==e)}}),Di=H(class extends j{constructor(t,e){super(t,e),this.dispatchEvent=(...s)=>{e.host.dispatchEvent.apply(e.host,s)}}update(){return this.dispatchEvent}}),et=(t,e=.08,s=.001)=>{const[r,i]=V(null);return $(()=>{if(r==null){i(t);return}if(e>=1){i(t);return}const n=r;window.requestAnimationFrame(()=>{const a=t-n;i(Math.abs(a)<s?t:r+a*e)})},[r,i,t,e,s]),r},lt=(t,e,s)=>Math.max(e,Math.min(s,t)),wt=(t,e,s,r)=>s/r<t/e?s/t:r/e,Fi=(t,e,s,r)=>s/r>t/e?s/t:r/e,ji=t=>t.reduce((s,r)=>[s[0]+r[0],s[1]+r[1]],[0,0]).map(s=>s/t.length),Hi=(t,e,s,r,i)=>{const n=wt(t,e,s,r),a=n*i,o=t*a,l=e*a,u=o<s?(-s+o)/2:(s-o)/2,c=o<s?(s-o)/2:(-s+o)/2,h=l<r?(-r+l)/2:(r-l)/2,d=l<r?(r-l)/2:(-r+l)/2;return{x:[u,c],y:[h,d]}},As=H(class extends j{update(){return this.state.host}}),Le="dragging",ut="init",Ui={status:ut,deltaX:0,deltaY:0,lastX:0,lastY:0,timestamp:0},Bi=(t,e)=>{switch(t.status){case ut:if(e.type==="start")return{...t,status:Le,lastX:e.x,lastY:e.y,timestamp:e.timestamp};break;case Le:switch(e.type){case"stop":return{...t,status:ut,deltaX:0,deltaY:0,timestamp:0};case"drag":return{...t,deltaX:e.x-t.lastX,deltaY:e.y-t.lastY,lastX:e.x,lastY:e.y,timestamp:e.timestamp}}}return t},Vi=()=>{const t=As(),[e,s]=Ve(Bi,Ui),r=C(a=>{a.stopPropagation(),s({type:"start",x:a.pageX,y:a.pageY,timestamp:a.timeStamp})},[s]),i=C(a=>s({type:"drag",x:a.pageX,y:a.pageY,timestamp:a.timeStamp}),[s]),n=C(()=>s({type:"stop"}),[s]);return $(()=>{if(e.status!==Le)return;const a={passive:!0};return t.ownerDocument.addEventListener("mousemove",i,a),t.ownerDocument.addEventListener("mouseup",n,a),()=>{t.ownerDocument.removeEventListener("mousemove",i,a),t.ownerDocument.removeEventListener("mouseup",n,a)}},[e.status,n,i]),[e.status,e.deltaX,e.deltaY,e.timestamp,r]},ct="init",Re="dragging",Yi={status:ct,deltaX:0,deltaY:0,lastX:0,lastY:0,timestamp:0},Ki=(t,e)=>{switch(t.status){case ct:if(e.type==="start")return{...t,status:Re,lastX:e.x,lastY:e.y,timestamp:e.timestamp};break;case Re:switch(e.type){case"stop":return{...t,status:ct,deltaX:0,deltaY:0,timestamp:0};case"drag":return{...t,deltaX:e.x-t.lastX,deltaY:e.y-t.lastY,lastX:e.x,lastY:e.y,timestamp:e.timestamp};case"one-little-finger":return{...t,lastX:e.x,lastY:e.y}}}return t},ve=t=>ji(Array.from(t.touches).map(e=>[e.pageX,e.pageY])),Ji=()=>{const[t,e]=Ve(Ki,Yi),s=C(a=>{if(a.touches.length>1)return;const[o,l]=ve(a);e({type:"start",x:o,y:l,timestamp:a.timeStamp})},[e]),r=C(a=>{const[o,l]=ve(a);e({type:"drag",x:o,y:l,timestamp:a.timeStamp})},[e]),i=C(a=>{if(a.touches.length===0){e({type:"stop"});return}const[o,l]=ve(a);e({type:"one-little-finger",x:o,y:l})},[e]),n=C(a=>{const[o,l]=ve(a);e({type:"one-little-finger",x:o,y:l})},[e]);return $(()=>{if(t.status!==Re)return;const a={passive:!0};return document.addEventListener("touchstart",n,a),document.addEventListener("touchmove",r,a),document.addEventListener("touchend",i,a),()=>{document.removeEventListener("touchstart",n,a),document.removeEventListener("touchmove",r,a),document.removeEventListener("touchend",i,a)}},[t.status,n,r,i]),[t.status,t.deltaX,t.deltaY,t.timestamp,s]},Xi=(t={x:[-100,100],y:[-100,100]})=>{const[e,s]=V(0),[r,i]=V(0),[n,a,o,l,u]=Vi(),[c,h,d,f,g]=Ji();D(()=>s(e+a),[l]),D(()=>i(r+o),[l]),D(()=>s(e+h),[f]),D(()=>i(r+d),[f]);const p=n===Le||c===Re;return $(()=>{p||(s(lt(e,t.x[0],t.x[1])),i(lt(r,t.y[0],t.y[1])))},[p,s,i,t]),[p,e,r,u,g]},Gi=(t,e)=>{"ResizeObserver"in window&&$(()=>{if(e==null)return;const s=new ResizeObserver(([{contentRect:r}])=>t(r));return s.observe(e),t(e.getBoundingClientRect()),()=>s.unobserve(e)},[t,e])},Ns="init",ke="pinching",$s={status:Ns,lastDistance:0,delta:0},Zi=(t,e)=>{switch(t.status){case Ns:if(e.type==="start")return{...t,status:ke,lastDistance:e.initialDistance,delta:0};break;case ke:switch(e.type){case"stop":return $s;case"pinch":return{...t,delta:e.distance-t.lastDistance,lastDistance:e.distance}}}return t},Dt=(t,e)=>Math.hypot(e.pageX-t.pageX,e.pageY-t.pageY),Wi=()=>{const[t,e]=Ve(Zi,$s),s=C(n=>{n.touches.length<2||e({type:"start",initialDistance:Dt(...n.touches)})},[e]),r=C(n=>{e({type:"pinch",distance:Dt(...n.touches)})},[e]),i=C(n=>{n.touches.length>2||e({type:"stop"})},[e]);return $(()=>{if(t.status!==ke)return;const n={passive:!0};return document.addEventListener("touchmove",r,n),document.addEventListener("touchend",i,n),()=>{document.removeEventListener("touchmove",r,n),document.removeEventListener("touchend",i,n)}},[t.status,i,r]),[t.status,t.delta,s]},Ts="empty",Je="loading",Ls="loaded",vt="error",qi={status:Ts,iw:100,ih:100,cw:100,ch:100,zoom:1},Qi=1.1,er=t=>Qi/t,tr=t=>2*t,Ft=(t,e,s,r,i)=>{const n=wt(e,s,r,i),a=Fi(e*n,s*n,r,i),o=Math.max(er(n),tr(a));return lt(t,1,o)},sr=(t,e)=>e.type==="load"?{...t,status:Je}:t,ir=(t,e)=>{switch(e.type){case"loaded":return{...t,status:Ls,...e.dimensions};case"error":return{...t,status:vt};default:return t}},rr=(t,e)=>{switch(e.type){case"load":return{...t,status:Je};case"zoom":return{...t,zoom:Ft(e.zoom,t.iw,t.ih,t.cw,t.ch)};case"zoomBy":return{...t,zoom:e.bounded?Ft(t.zoom+e.delta,t.iw,t.ih,t.cw,t.ch):Math.max(.2,t.zoom+e.delta)};default:return t}},nr=(t,e)=>e.type==="load"?{...t,status:Je}:t,ar=(t,e)=>{if(e.type==="resize")return{...t,cw:e.rect.width,ch:e.rect.height};switch(t.status){case Ts:return sr(t,e);case Je:return ir(t,e);case Ls:return rr(t,e);case vt:return nr(t,e);default:return t}},or=(t,e,s,r)=>{const{iw:i=100,ih:n=100,cw:a=100,ch:o=100}=t,l=wt(i,n,a,o),u=l*e;return{position:"absolute",top:"50%",left:"50%",transform:["translate(-50%, -50%)",`translate(${s}px, ${r}px)`,`scale(${u})`].join(" ")}},lr=(t=.3,e=.08)=>{const[s,r]=Ve(ar,qi),i=C(()=>r({type:"load"}),[r]),n=C(E=>r({type:"loaded",dimensions:E}),[r]),a=C(()=>r({type:"error"}),[r]),o=C((E,k=!0)=>r({type:"zoomBy",delta:E,bounded:k}),[r]),l=C(E=>r({type:"zoom",zoom:E}),[r]),u=ws(),c=C(E=>E&&r({type:"resize",rect:E}),[r]),h=C(()=>c(u.current&&u.current.getBoundingClientRect()),[c,u]);Gi(c,u.current);const d=C(E=>n({iw:E.target.naturalWidth,ih:E.target.naturalHeight}),[n]),f=C(E=>{E.preventDefault(),o(-Math.sign(E.deltaY)*.8)},[o,s.zoom]),[g,p,m]=Wi(),_=g===ke;$(()=>p!==0&&o(p*.01*s.zoom,!1),[p,o]),$(()=>!_&&o(0),[_,o]);const y=D(()=>Hi(s.iw,s.ih,s.cw,s.ch,s.zoom),[s.iw,s.ih,s.cw,s.ch,s.zoom]),[P,x,A,N,O]=Xi(y),M=et(x,P?.9:t),K=et(A,P?.9:t),J=et(s.zoom,_?.8:e);return{...s,load:i,loaded:n,error:a,zoomBy:o,zoomTo:l,resize:h,startMousePan:N,startTouchPan:O,startPinch:m,onImageLoad:d,onWheel:f,containerRef:u,style:or(s,J,M,K)}},ur=({src:t,disabled:e,panStiffness:s,zoomStiffness:r})=>{const{status:i,zoom:n,load:a,error:o,zoomTo:l,resize:u,startMousePan:c,startTouchPan:h,startPinch:d,onImageLoad:f,onWheel:g,style:p,containerRef:m}=lr(s,r);if($(a,[t]),Es({zoomTo:l,resize:u,zoom:n},[l,u,n]),!t)return Y;const _=Di();$(()=>_(new CustomEvent("zoom-changed",{detail:{value:n}})),[_,n]),$(()=>_(new CustomEvent("status-changed",{detail:{value:i}})),[_,i]);const y=C(P=>{h(P),d(P)},[h,d]);return v`
		<style>
			:host {
				display: block;
			}

			.container {
				position: relative;
				width: 100%;
				height: 100%;
				overflow: hidden;
				touch-action: none;
				user-select: none;
			}
		</style>
		<div
			class="container ${i}"
			style="pointer-events: ${e?"none":"all"}"
			@wheel=${g}
			${xs(P=>m.current=P)}
		>
			${!t||i===vt?Y:v`
						<img
							src=${t}
							draggable="false"
							@mousedown=${c}
							@touchstart=${y}
							@load=${f}
							@error=${o}
							style=${Cs(p)}
						/>
				  `}
		</div>
	`};class cr extends HTMLElement{resize(){}zoomTo(){}}customElements.define("haunted-pan-zoom",Ke(ur,{observedAttributes:["src","disabled","pan-stiffness","zoom-stiffness"],baseElement:cr}));window.JSCompiler_renameProperty=function(t,e){return t};let dr=/(url\()([^)]*)(\))/g,hr=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,xe,R;function ge(t,e){if(t&&hr.test(t)||t==="//")return t;if(xe===void 0){xe=!1;try{const s=new URL("b","http://a");s.pathname="c%20d",xe=s.href==="http://a/c%20d"}catch{}}if(e||(e=document.baseURI||window.location.href),xe)try{return new URL(t,e).href}catch{return t}return R||(R=document.implementation.createHTMLDocument("temp"),R.base=R.createElement("base"),R.head.appendChild(R.base),R.anchor=R.createElement("a"),R.body.appendChild(R.anchor)),R.base.href=e,R.anchor.href=t,R.anchor.href||t}function xt(t,e){return t.replace(dr,function(s,r,i,n){return r+"'"+ge(i.replace(/["']/g,""),e)+"'"+n})}function St(t){return t.substring(0,t.lastIndexOf("/")+1)}const fr=!window.ShadyDOM||!window.ShadyDOM.inUse;!window.ShadyCSS||window.ShadyCSS.nativeCss;const pr=fr&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const t=new CSSStyleSheet;t.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[t],e.shadowRoot.adoptedStyleSheets[0]===t}catch{return!1}})();let gr=window.Polymer&&window.Polymer.rootPath||St(document.baseURI||window.location.href),Me=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;window.Polymer&&window.Polymer.setPassiveTouchGestures;let dt=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,mr=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,_r=window.Polymer&&window.Polymer.legacyOptimizations||!1,yr=window.Polymer&&window.Polymer.legacyWarnings||!1,br=window.Polymer&&window.Polymer.syncInitialRender||!1,ht=window.Polymer&&window.Polymer.legacyUndefined||!1,Pr=window.Polymer&&window.Polymer.orderedComputed||!1,jt=window.Polymer&&window.Polymer.removeNestedTemplates||!1,wr=window.Polymer&&window.Polymer.fastDomIf||!1;window.Polymer&&window.Polymer.suppressTemplateNotifications;window.Polymer&&window.Polymer.legacyNoObservedAttributes;let vr=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1;let xr=0;const W=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let s=xr++;function r(i){let n=i.__mixinSet;if(n&&n[s])return i;let a=e,o=a.get(i);if(!o){o=t(i),a.set(i,o);let l=Object.create(o.__mixinSet||n||null);l[s]=!0,o.__mixinSet=l}return o}return r};let Ct={},Rs={};function Ht(t,e){Ct[t]=Rs[t.toLowerCase()]=e}function Ut(t){return Ct[t]||Rs[t.toLowerCase()]}function Sr(t){t.querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}class _e extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,s){if(e){let r=Ut(e);return r&&s?r.querySelector(s):r}return null}attributeChangedCallback(e,s,r,i){s!==r&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,s=ge(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=St(s)}return this.__assetpath}register(e){if(e=e||this.id,e){if(dt&&Ut(e)!==void 0)throw Ht(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,Ht(e,this),Sr(this)}}}_e.prototype.modules=Ct;customElements.define("dom-module",_e);const Cr="link[rel=import][type~=css]",Or="include",Bt="shady-unscoped";function ks(t){return _e.import(t)}function Vt(t){let e=t.body?t.body:t;const s=xt(e.textContent,t.baseURI),r=document.createElement("style");return r.textContent=s,r}function Er(t){const e=t.trim().split(/\s+/),s=[];for(let r=0;r<e.length;r++)s.push(...Ar(e[r]));return s}function Ar(t){const e=ks(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(e._styles===void 0){const s=[];s.push(...zs(e));const r=e.querySelector("template");r&&s.push(...Ms(r,e.assetpath)),e._styles=s}return e._styles}function Ms(t,e){if(!t._styles){const s=[],r=t.content.querySelectorAll("style");for(let i=0;i<r.length;i++){let n=r[i],a=n.getAttribute(Or);a&&s.push(...Er(a).filter(function(o,l,u){return u.indexOf(o)===l})),e&&(n.textContent=xt(n.textContent,e)),s.push(n)}t._styles=s}return t._styles}function Nr(t){let e=ks(t);return e?zs(e):[]}function zs(t){const e=[],s=t.querySelectorAll(Cr);for(let r=0;r<s.length;r++){let i=s[r];if(i.import){const n=i.import,a=i.hasAttribute(Bt);if(a&&!n._unscopedStyle){const o=Vt(n);o.setAttribute(Bt,""),n._unscopedStyle=o}else n._style||(n._style=Vt(n));e.push(a?n._unscopedStyle:n._style)}}return e}const Z=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t;function ft(t){return t.indexOf(".")>=0}function q(t){let e=t.indexOf(".");return e===-1?t:t.slice(0,e)}function $r(t,e){return t.indexOf(e+".")===0}function ze(t,e){return e.indexOf(t+".")===0}function Ie(t,e,s){return e+s.slice(t.length)}function de(t){if(Array.isArray(t)){let e=[];for(let s=0;s<t.length;s++){let r=t[s].toString().split(".");for(let i=0;i<r.length;i++)e.push(r[i])}return e.join(".")}else return t}function Is(t){return Array.isArray(t)?de(t).split("."):t.toString().split(".")}function T(t,e,s){let r=t,i=Is(e);for(let n=0;n<i.length;n++){if(!r)return;let a=i[n];r=r[a]}return s&&(s.path=i.join(".")),r}function Yt(t,e,s){let r=t,i=Is(e),n=i[i.length-1];if(i.length>1){for(let a=0;a<i.length-1;a++){let o=i[a];if(r=r[o],!r)return}r[n]=s}else r[e]=s;return i.join(".")}const De={},Tr=/-[a-z]/g,Lr=/([A-Z])/g;function Ds(t){return De[t]||(De[t]=t.indexOf("-")<0?t:t.replace(Tr,e=>e[1].toUpperCase()))}function Xe(t){return De[t]||(De[t]=t.replace(Lr,"-$1").toLowerCase())}let Rr=0,Fs=0,te=[],kr=0,pt=!1,js=document.createTextNode("");new window.MutationObserver(Mr).observe(js,{characterData:!0});function Mr(){pt=!1;const t=te.length;for(let e=0;e<t;e++){let s=te[e];if(s)try{s()}catch(r){setTimeout(()=>{throw r})}}te.splice(0,t),Fs+=t}const zr={run(t){return pt||(pt=!0,js.textContent=kr++),te.push(t),Rr++},cancel(t){const e=t-Fs;if(e>=0){if(!te[e])throw new Error("invalid async handle: "+t);te[e]=null}}};const Ir=zr,Hs=W(t=>{class e extends t{static createProperties(r){const i=this.prototype;for(let n in r)n in i||i._createPropertyAccessor(n)}static attributeNameForProperty(r){return r.toLowerCase()}static typeForProperty(r){}_createPropertyAccessor(r,i){this._addPropertyToAttributeMap(r),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[r]||(this.__dataHasAccessor[r]=!0,this._definePropertyAccessor(r,i))}_addPropertyToAttributeMap(r){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let i=this.__dataAttributes[r];return i||(i=this.constructor.attributeNameForProperty(r),this.__dataAttributes[i]=r),i}_definePropertyAccessor(r,i){Object.defineProperty(this,r,{get(){return this.__data[r]},set:i?function(){}:function(n){this._setPendingProperty(r,n,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let r in this.__dataHasAccessor)this.hasOwnProperty(r)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[r]=this[r],delete this[r])}_initializeInstanceProperties(r){Object.assign(this,r)}_setProperty(r,i){this._setPendingProperty(r,i)&&this._invalidateProperties()}_getProperty(r){return this.__data[r]}_setPendingProperty(r,i,n){let a=this.__data[r],o=this._shouldPropertyChange(r,i,a);return o&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(r in this.__dataOld)&&(this.__dataOld[r]=a),this.__data[r]=i,this.__dataPending[r]=i),o}_isPropertyPending(r){return!!(this.__dataPending&&this.__dataPending.hasOwnProperty(r))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,Ir.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const r=this.__data,i=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(r,i,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(r,i,n)),this.__dataCounter--}_shouldPropertiesChange(r,i,n){return!!i}_propertiesChanged(r,i,n){}_shouldPropertyChange(r,i,n){return n!==i&&(n===n||i===i)}attributeChangedCallback(r,i,n,a){i!==n&&this._attributeToProperty(r,n),super.attributeChangedCallback&&super.attributeChangedCallback(r,i,n,a)}_attributeToProperty(r,i,n){if(!this.__serializing){const a=this.__dataAttributes,o=a&&a[r]||r;this[o]=this._deserializeValue(i,n||this.constructor.typeForProperty(o))}}_propertyToAttribute(r,i,n){this.__serializing=!0,n=arguments.length<3?this[r]:n,this._valueToNodeAttribute(this,n,i||this.constructor.attributeNameForProperty(r)),this.__serializing=!1}_valueToNodeAttribute(r,i,n){const a=this._serializeValue(i);(n==="class"||n==="name"||n==="slot")&&(r=Z(r)),a===void 0?r.removeAttribute(n):r.setAttribute(n,a===""&&window.trustedTypes?window.trustedTypes.emptyScript:a)}_serializeValue(r){return typeof r==="boolean"?r?"":void 0:r?.toString()}_deserializeValue(r,i){switch(i){case Boolean:return r!==null;case Number:return Number(r);default:return r}}}return e});const Us={};let Se=HTMLElement.prototype;for(;Se;){let t=Object.getOwnPropertyNames(Se);for(let e=0;e<t.length;e++)Us[t[e]]=!0;Se=Object.getPrototypeOf(Se)}const Dr=window.trustedTypes?t=>trustedTypes.isHTML(t)||trustedTypes.isScript(t)||trustedTypes.isScriptURL(t):()=>!1;function Fr(t,e){if(!Us[e]){let s=t[e];s!==void 0&&(t.__data?t._setPendingProperty(e,s):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=s))}}const jr=W(t=>{const e=Hs(t);class s extends e{static createPropertiesForAttributes(){let i=this.observedAttributes;for(let n=0;n<i.length;n++)this.prototype._createPropertyAccessor(Ds(i[n]))}static attributeNameForProperty(i){return Xe(i)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(i){for(let n in i)this._setProperty(n,i[n])}_ensureAttribute(i,n){const a=this;a.hasAttribute(i)||this._valueToNodeAttribute(a,n,i)}_serializeValue(i){switch(typeof i){case"object":if(i instanceof Date)return i.toString();if(i){if(Dr(i))return i;try{return JSON.stringify(i)}catch{return""}}default:return super._serializeValue(i)}}_deserializeValue(i,n){let a;switch(n){case Object:try{a=JSON.parse(i)}catch{a=i}break;case Array:try{a=JSON.parse(i)}catch{a=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${i}`)}break;case Date:a=isNaN(i)?String(i):Number(i),a=new Date(a);break;default:a=super._deserializeValue(i,n);break}return a}_definePropertyAccessor(i,n){Fr(this,i),super._definePropertyAccessor(i,n)}_hasAccessor(i){return this.__dataHasAccessor&&this.__dataHasAccessor[i]}_isPropertyPending(i){return!!(this.__dataPending&&i in this.__dataPending)}}return s});const Hr={"dom-if":!0,"dom-repeat":!0};let Kt=!1,Jt=!1;function Ur(){if(!Kt){Kt=!0;const t=document.createElement("textarea");t.placeholder="a",Jt=t.placeholder===t.textContent}return Jt}function Br(t){Ur()&&t.localName==="textarea"&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}const Vr=(()=>{const t=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:e=>e});return(e,s,r)=>{const i=s.getAttribute(r);if(t&&r.startsWith("on-")){e.setAttribute(r,t.createScript(i,r));return}e.setAttribute(r,i)}})();function Yr(t){let e=t.getAttribute("is");if(e&&Hr[e]){let s=t;for(s.removeAttribute("is"),t=s.ownerDocument.createElement(e),s.parentNode.replaceChild(t,s),t.appendChild(s);s.attributes.length;){const{name:r}=s.attributes[0];Vr(t,s,r),s.removeAttribute(r)}}return t}function Bs(t,e){let s=e.parentInfo&&Bs(t,e.parentInfo);if(s){for(let r=s.firstChild,i=0;r;r=r.nextSibling)if(e.parentIndex===i++)return r}else return t}function Kr(t,e,s,r){r.id&&(e[r.id]=s)}function Jr(t,e,s){if(s.events&&s.events.length)for(let r=0,i=s.events,n;r<i.length&&(n=i[r]);r++)t._addMethodEventListenerToNode(e,n.name,n.value,t)}function Xr(t,e,s,r){s.templateInfo&&(e._templateInfo=s.templateInfo,e._parentTemplateInfo=r)}function Gr(t,e,s){return t=t._methodHost||t,function(i){t[s]?t[s](i,i.detail):console.warn("listener method `"+s+"` not defined")}}const Zr=W(t=>{class e extends t{static _parseTemplate(r,i){if(!r._templateInfo){let n=r._templateInfo={};n.nodeInfoList=[],n.nestedTemplate=!!i,n.stripWhiteSpace=i&&i.stripWhiteSpace||r.hasAttribute&&r.hasAttribute("strip-whitespace"),this._parseTemplateContent(r,n,{parent:null})}return r._templateInfo}static _parseTemplateContent(r,i,n){return this._parseTemplateNode(r.content,i,n)}static _parseTemplateNode(r,i,n){let a=!1,o=r;return o.localName=="template"&&!o.hasAttribute("preserve-content")?a=this._parseTemplateNestedTemplate(o,i,n)||a:o.localName==="slot"&&(i.hasInsertionPoint=!0),Br(o),o.firstChild&&this._parseTemplateChildNodes(o,i,n),o.hasAttributes&&o.hasAttributes()&&(a=this._parseTemplateNodeAttributes(o,i,n)||a),a||n.noted}static _parseTemplateChildNodes(r,i,n){if(!(r.localName==="script"||r.localName==="style"))for(let a=r.firstChild,o=0,l;a;a=l){if(a.localName=="template"&&(a=Yr(a)),l=a.nextSibling,a.nodeType===Node.TEXT_NODE){let c=l;for(;c&&c.nodeType===Node.TEXT_NODE;)a.textContent+=c.textContent,l=c.nextSibling,r.removeChild(c),c=l;if(i.stripWhiteSpace&&!a.textContent.trim()){r.removeChild(a);continue}}let u={parentIndex:o,parentInfo:n};this._parseTemplateNode(a,i,u)&&(u.infoIndex=i.nodeInfoList.push(u)-1),a.parentNode&&o++}}static _parseTemplateNestedTemplate(r,i,n){let a=r,o=this._parseTemplate(a,i);return(o.content=a.content.ownerDocument.createDocumentFragment()).appendChild(a.content),n.templateInfo=o,!0}static _parseTemplateNodeAttributes(r,i,n){let a=!1,o=Array.from(r.attributes);for(let l=o.length-1,u;u=o[l];l--)a=this._parseTemplateNodeAttribute(r,i,n,u.name,u.value)||a;return a}static _parseTemplateNodeAttribute(r,i,n,a,o){return a.slice(0,3)==="on-"?(r.removeAttribute(a),n.events=n.events||[],n.events.push({name:a.slice(3),value:o}),!0):a==="id"?(n.id=o,!0):!1}static _contentForTemplate(r){let i=r._templateInfo;return i&&i.content||r.content}_stampTemplate(r,i){r&&!r.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(r),i=i||this.constructor._parseTemplate(r);let n=i.nodeInfoList,a=i.content||r.content,o=document.importNode(a,!0);o.__noInsertionPoint=!i.hasInsertionPoint;let l=o.nodeList=new Array(n.length);o.$={};for(let u=0,c=n.length,h;u<c&&(h=n[u]);u++){let d=l[u]=Bs(o,h);Kr(this,o.$,d,h),Xr(this,d,h,i),Jr(this,d,h)}return o=o,o}_addMethodEventListenerToNode(r,i,n,a){a=a||r;let o=Gr(a,i,n);return this._addEventListenerToNode(r,i,o),o}_addEventListenerToNode(r,i,n){r.addEventListener(i,n)}_removeEventListenerFromNode(r,i,n){r.removeEventListener(i,n)}}return e});let ye=0;const be=[],w={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Vs="__computeInfo",Wr=/[A-Z]/;function tt(t,e,s){let r=t[e];if(!r)r=t[e]={};else if(!t.hasOwnProperty(e)&&(r=t[e]=Object.create(t[e]),s))for(let i in r){let n=r[i],a=r[i]=Array(n.length);for(let o=0;o<n.length;o++)a[o]=n[o]}return r}function he(t,e,s,r,i,n){if(e){let a=!1;const o=ye++;for(let l in s){let u=i?q(l):l,c=e[u];if(c)for(let h=0,d=c.length,f;h<d&&(f=c[h]);h++)(!f.info||f.info.lastRun!==o)&&(!i||Ot(l,f.trigger))&&(f.info&&(f.info.lastRun=o),f.fn(t,l,s,r,f.info,i,n),a=!0)}return a}return!1}function qr(t,e,s,r,i,n,a,o){let l=!1,u=a?q(r):r,c=e[u];if(c)for(let h=0,d=c.length,f;h<d&&(f=c[h]);h++)(!f.info||f.info.lastRun!==s)&&(!a||Ot(r,f.trigger))&&(f.info&&(f.info.lastRun=s),f.fn(t,r,i,n,f.info,a,o),l=!0);return l}function Ot(t,e){if(e){let s=e.name;return s==t||!!(e.structured&&$r(s,t))||!!(e.wildcard&&ze(s,t))}else return!0}function Xt(t,e,s,r,i){let n=typeof i.method=="string"?t[i.method]:i.method,a=i.property;n?n.call(t,t.__data[a],r[a]):i.dynamicFn||console.warn("observer method `"+i.method+"` not defined")}function Qr(t,e,s,r,i){let n=t[w.NOTIFY],a,o=ye++;for(let u in e)e[u]&&(n&&qr(t,n,o,u,s,r,i)||i&&en(t,u,s))&&(a=!0);let l;a&&(l=t.__dataHost)&&l._invalidateProperties&&l._invalidateProperties()}function en(t,e,s){let r=q(e);if(r!==e){let i=Xe(r)+"-changed";return Ys(t,i,s[e],e),!0}return!1}function Ys(t,e,s,r){let i={value:s,queueProperty:!0};r&&(i.path=r),Z(t).dispatchEvent(new CustomEvent(e,{detail:i}))}function tn(t,e,s,r,i,n){let o=(n?q(e):e)!=e?e:null,l=o?T(t,o):t.__data[e];o&&l===void 0&&(l=s[e]),Ys(t,i.eventName,l,o)}function sn(t,e,s,r,i){let n,a=t.detail,o=a&&a.path;o?(r=Ie(s,r,o),n=a&&a.value):n=t.currentTarget[s],n=i?!n:n,(!e[w.READ_ONLY]||!e[w.READ_ONLY][r])&&e._setPendingPropertyOrPath(r,n,!0,!!o)&&(!a||!a.queueProperty)&&e._invalidateProperties()}function rn(t,e,s,r,i){let n=t.__data[e];Me&&(n=Me(n,i.attrName,"attribute",t)),t._propertyToAttribute(e,i.attrName,n)}function nn(t,e,s,r){let i=t[w.COMPUTE];if(i)if(Pr){ye++;const n=on(t),a=[];for(let l in e)Gt(l,i,a,n,r);let o;for(;o=a.shift();)Ks(t,"",e,s,o)&&Gt(o.methodInfo,i,a,n,r);Object.assign(s,t.__dataOld),Object.assign(e,t.__dataPending),t.__dataPending=null}else{let n=e;for(;he(t,i,n,s,r);)Object.assign(s,t.__dataOld),Object.assign(e,t.__dataPending),n=t.__dataPending,t.__dataPending=null}}const an=(t,e,s)=>{let r=0,i=e.length-1,n=-1;for(;r<=i;){const a=r+i>>1,o=s.get(e[a].methodInfo)-s.get(t.methodInfo);if(o<0)r=a+1;else if(o>0)i=a-1;else{n=a;break}}n<0&&(n=i+1),e.splice(n,0,t)},Gt=(t,e,s,r,i)=>{const n=i?q(t):t,a=e[n];if(a)for(let o=0;o<a.length;o++){const l=a[o];l.info.lastRun!==ye&&(!i||Ot(t,l.trigger))&&(l.info.lastRun=ye,an(l.info,s,r))}};function on(t){let e=t.constructor.__orderedComputedDeps;if(!e){e=new Map;const s=t[w.COMPUTE];let{counts:r,ready:i,total:n}=ln(t),a;for(;a=i.shift();){e.set(a,e.size);const o=s[a];o&&o.forEach(l=>{const u=l.info.methodInfo;--n,--r[u]===0&&i.push(u)})}n!==0&&console.warn(`Computed graph for ${t.localName} incomplete; circular?`),t.constructor.__orderedComputedDeps=e}return e}function ln(t){const e=t[Vs],s={},r=t[w.COMPUTE],i=[];let n=0;for(let a in e){const o=e[a];n+=s[a]=o.args.filter(l=>!l.literal).length+(o.dynamicFn?1:0)}for(let a in r)e[a]||i.push(a);return{counts:s,ready:i,total:n}}function Ks(t,e,s,r,i){let n=gt(t,e,s,r,i);if(n===be)return!1;let a=i.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[a]?t._setPendingProperty(a,n,!0):(t[a]=n,!1)}function un(t,e,s){let r=t.__dataLinkedPaths;if(r){let i;for(let n in r){let a=r[n];ze(n,e)?(i=Ie(n,a,e),t._setPendingPropertyOrPath(i,s,!0,!0)):ze(a,e)&&(i=Ie(a,n,e),t._setPendingPropertyOrPath(i,s,!0,!0))}}}function st(t,e,s,r,i,n,a){s.bindings=s.bindings||[];let o={kind:r,target:i,parts:n,literal:a,isCompound:n.length!==1};if(s.bindings.push(o),pn(o)){let{event:u,negate:c}=o.parts[0];o.listenerEvent=u||Xe(i)+"-changed",o.listenerNegate=c}let l=e.nodeInfoList.length;for(let u=0;u<o.parts.length;u++){let c=o.parts[u];c.compoundIndex=u,cn(t,e,o,c,l)}}function cn(t,e,s,r,i){if(!r.literal)if(s.kind==="attribute"&&s.target[0]==="-")console.warn("Cannot set attribute "+s.target+' because "-" is not a valid attribute starting character');else{let n=r.dependencies,a={index:i,binding:s,part:r,evaluator:t};for(let o=0;o<n.length;o++){let l=n[o];typeof l=="string"&&(l=Xs(l),l.wildcard=!0),t._addTemplatePropertyEffect(e,l.rootProperty,{fn:dn,info:a,trigger:l})}}}function dn(t,e,s,r,i,n,a){let o=a[i.index],l=i.binding,u=i.part;if(n&&u.source&&e.length>u.source.length&&l.kind=="property"&&!l.isCompound&&o.__isPropertyEffectsClient&&o.__dataHasAccessor&&o.__dataHasAccessor[l.target]){let c=s[e];e=Ie(u.source,l.target,e),o._setPendingPropertyOrPath(e,c,!1,!0)&&t._enqueueClient(o)}else{let c=i.evaluator._evaluateBinding(t,u,e,s,r,n);c!==be&&hn(t,o,l,u,c)}}function hn(t,e,s,r,i){if(i=fn(e,i,s,r),Me&&(i=Me(i,s.target,s.kind,e)),s.kind=="attribute")t._valueToNodeAttribute(e,i,s.target);else{let n=s.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[n]?(!e[w.READ_ONLY]||!e[w.READ_ONLY][n])&&e._setPendingProperty(n,i)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,n,i)}}function fn(t,e,s,r){if(s.isCompound){let i=t.__dataCompoundStorage[s.target];i[r.compoundIndex]=e,e=i.join("")}return s.kind!=="attribute"&&(s.target==="textContent"||s.target==="value"&&(t.localName==="input"||t.localName==="textarea"))&&(e=e??""),e}function pn(t){return!!t.target&&t.kind!="attribute"&&t.kind!="text"&&!t.isCompound&&t.parts[0].mode==="{"}function gn(t,e){let{nodeList:s,nodeInfoList:r}=e;if(r.length)for(let i=0;i<r.length;i++){let n=r[i],a=s[i],o=n.bindings;if(o)for(let l=0;l<o.length;l++){let u=o[l];mn(a,u),_n(a,t,u)}a.__dataHost=t}}function mn(t,e){if(e.isCompound){let s=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),r=e.parts,i=new Array(r.length);for(let a=0;a<r.length;a++)i[a]=r[a].literal;let n=e.target;s[n]=i,e.literal&&e.kind=="property"&&(n==="className"&&(t=Z(t)),t[n]=e.literal)}}function _n(t,e,s){if(s.listenerEvent){let r=s.parts[0];t.addEventListener(s.listenerEvent,function(i){sn(i,e,s.target,r.source,r.negate)})}}function Zt(t,e,s,r,i,n){n=e.static||n&&(typeof n!="object"||n[e.methodName]);let a={methodName:e.methodName,args:e.args,methodInfo:i,dynamicFn:n};for(let o=0,l;o<e.args.length&&(l=e.args[o]);o++)l.literal||t._addPropertyEffect(l.rootProperty,s,{fn:r,info:a,trigger:l});return n&&t._addPropertyEffect(e.methodName,s,{fn:r,info:a}),a}function gt(t,e,s,r,i){let n=t._methodHost||t,a=n[i.methodName];if(a){let o=t._marshalArgs(i.args,e,s);return o===be?be:a.apply(n,o)}else i.dynamicFn||console.warn("method `"+i.methodName+"` not defined")}const yn=[],Js="(?:[a-zA-Z_$][\\w.:$\\-*]*)",bn="(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)",Pn="(?:'(?:[^'\\\\]|\\\\.)*')",wn='(?:"(?:[^"\\\\]|\\\\.)*")',vn="(?:"+Pn+"|"+wn+")",Wt="(?:("+Js+"|"+bn+"|"+vn+")\\s*)",xn="(?:"+Wt+"(?:,\\s*"+Wt+")*)",Sn="(?:\\(\\s*(?:"+xn+"?)\\)\\s*)",Cn="("+Js+"\\s*"+Sn+"?)",On="(\\[\\[|{{)\\s*",En="(?:]]|}})",An="(?:(!)\\s*)?",Nn=On+An+Cn+En,qt=new RegExp(Nn,"g");function Qt(t){let e="";for(let s=0;s<t.length;s++){let r=t[s].literal;e+=r||""}return e}function it(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let r={methodName:e[1],static:!0,args:yn};if(e[2].trim()){let i=e[2].replace(/\\,/g,"&comma;").split(",");return $n(i,r)}else return r}return null}function $n(t,e){return e.args=t.map(function(s){let r=Xs(s);return r.literal||(e.static=!1),r},this),e}function Xs(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),s={name:e,value:"",literal:!1},r=e[0];switch(r==="-"&&(r=e[1]),r>="0"&&r<="9"&&(r="#"),r){case"'":case'"':s.value=e.slice(1,-1),s.literal=!0;break;case"#":s.value=Number(e),s.literal=!0;break}return s.literal||(s.rootProperty=q(e),s.structured=ft(e),s.structured&&(s.wildcard=e.slice(-2)==".*",s.wildcard&&(s.name=e.slice(0,-2)))),s}function es(t,e,s){let r=T(t,s);return r===void 0&&(r=e[s]),r}function Gs(t,e,s,r){const i={indexSplices:r};ht&&!t._overrideLegacyUndefined&&(e.splices=i),t.notifyPath(s+".splices",i),t.notifyPath(s+".length",e.length),ht&&!t._overrideLegacyUndefined&&(i.indexSplices=[])}function le(t,e,s,r,i,n){Gs(t,e,s,[{index:r,addedCount:i,removed:n,object:e,type:"splice"}])}function Tn(t){return t[0].toUpperCase()+t.substring(1)}const Ln=W(t=>{const e=Zr(jr(t));class s extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return w}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(ue.length){let i=ue[ue.length-1];i._enqueueClient(this),this.__dataHost=i}}_initializeProtoProperties(i){this.__data=Object.create(i),this.__dataPending=Object.create(i),this.__dataOld={}}_initializeInstanceProperties(i){let n=this[w.READ_ONLY];for(let a in i)(!n||!n[a])&&(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=i[a])}_addPropertyEffect(i,n,a){this._createPropertyAccessor(i,n==w.READ_ONLY);let o=tt(this,n,!0)[i];o||(o=this[n][i]=[]),o.push(a)}_removePropertyEffect(i,n,a){let o=tt(this,n,!0)[i],l=o.indexOf(a);l>=0&&o.splice(l,1)}_hasPropertyEffect(i,n){let a=this[n];return!!(a&&a[i])}_hasReadOnlyEffect(i){return this._hasPropertyEffect(i,w.READ_ONLY)}_hasNotifyEffect(i){return this._hasPropertyEffect(i,w.NOTIFY)}_hasReflectEffect(i){return this._hasPropertyEffect(i,w.REFLECT)}_hasComputedEffect(i){return this._hasPropertyEffect(i,w.COMPUTE)}_setPendingPropertyOrPath(i,n,a,o){if(o||q(Array.isArray(i)?i[0]:i)!==i){if(!o){let l=T(this,i);if(i=Yt(this,i,n),!i||!super._shouldPropertyChange(i,n,l))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(i,n,a))return un(this,i,n),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[i])return this._setPendingProperty(i,n,a);this[i]=n}return!1}_setUnmanagedPropertyToNode(i,n,a){(a!==i[n]||typeof a=="object")&&(n==="className"&&(i=Z(i)),i[n]=a)}_setPendingProperty(i,n,a){let o=this.__dataHasPaths&&ft(i),l=o?this.__dataTemp:this.__data;return this._shouldPropertyChange(i,n,l[i])?(this.__dataPending||(this.__dataPending={},this.__dataOld={}),i in this.__dataOld||(this.__dataOld[i]=this.__data[i]),o?this.__dataTemp[i]=n:this.__data[i]=n,this.__dataPending[i]=n,(o||this[w.NOTIFY]&&this[w.NOTIFY][i])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[i]=a),!0):!1}_setProperty(i,n){this._setPendingProperty(i,n,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(i){this.__dataPendingClients=this.__dataPendingClients||[],i!==this&&this.__dataPendingClients.push(i)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let i=this.__dataPendingClients;if(i){this.__dataPendingClients=null;for(let n=0;n<i.length;n++){let a=i[n];a.__dataEnabled?a.__dataPending&&a._flushProperties():a._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(i,n){for(let a in i)(n||!this[w.READ_ONLY]||!this[w.READ_ONLY][a])&&this._setPendingPropertyOrPath(a,i[a],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(i,n,a){let o=this.__dataHasPaths;this.__dataHasPaths=!1;let l;nn(this,n,a,o),l=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(n,a,o),this._flushClients(),he(this,this[w.REFLECT],n,a,o),he(this,this[w.OBSERVE],n,a,o),l&&Qr(this,l,n,a,o),this.__dataCounter==1&&(this.__dataTemp={})}_propagatePropertyChanges(i,n,a){this[w.PROPAGATE]&&he(this,this[w.PROPAGATE],i,n,a),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,i,n,a)}_runEffectsForTemplate(i,n,a,o){const l=(u,c)=>{he(this,i.propertyEffects,u,a,c,i.nodeList);for(let h=i.firstChild;h;h=h.nextSibling)this._runEffectsForTemplate(h,u,a,c)};i.runEffects?i.runEffects(l,n,o):l(n,o)}linkPaths(i,n){i=de(i),n=de(n),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[i]=n}unlinkPaths(i){i=de(i),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[i]}notifySplices(i,n){let a={path:""},o=T(this,i,a);Gs(this,o,a.path,n)}get(i,n){return T(n||this,i)}set(i,n,a){a?Yt(a,i,n):(!this[w.READ_ONLY]||!this[w.READ_ONLY][i])&&this._setPendingPropertyOrPath(i,n,!0)&&this._invalidateProperties()}push(i,...n){let a={path:""},o=T(this,i,a),l=o.length,u=o.push(...n);return n.length&&le(this,o,a.path,l,n.length,[]),u}pop(i){let n={path:""},a=T(this,i,n),o=!!a.length,l=a.pop();return o&&le(this,a,n.path,a.length,0,[l]),l}splice(i,n,a,...o){let l={path:""},u=T(this,i,l);n<0?n=u.length-Math.floor(-n):n&&(n=Math.floor(n));let c;return arguments.length===2?c=u.splice(n):c=u.splice(n,a,...o),(o.length||c.length)&&le(this,u,l.path,n,o.length,c),c}shift(i){let n={path:""},a=T(this,i,n),o=!!a.length,l=a.shift();return o&&le(this,a,n.path,0,0,[l]),l}unshift(i,...n){let a={path:""},o=T(this,i,a),l=o.unshift(...n);return n.length&&le(this,o,a.path,0,n.length,[]),l}notifyPath(i,n){let a;if(arguments.length==1){let o={path:""};n=T(this,i,o),a=o.path}else Array.isArray(i)?a=de(i):a=i;this._setPendingPropertyOrPath(a,n,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(i,n){this._addPropertyEffect(i,w.READ_ONLY),n&&(this["_set"+Tn(i)]=function(a){this._setProperty(i,a)})}_createPropertyObserver(i,n,a){let o={property:i,method:n,dynamicFn:!!a};this._addPropertyEffect(i,w.OBSERVE,{fn:Xt,info:o,trigger:{name:i}}),a&&this._addPropertyEffect(n,w.OBSERVE,{fn:Xt,info:o,trigger:{name:n}})}_createMethodObserver(i,n){let a=it(i);if(!a)throw new Error("Malformed observer expression '"+i+"'");Zt(this,a,w.OBSERVE,gt,null,n)}_createNotifyingProperty(i){this._addPropertyEffect(i,w.NOTIFY,{fn:tn,info:{eventName:Xe(i)+"-changed",property:i}})}_createReflectedProperty(i){let n=this.constructor.attributeNameForProperty(i);n[0]==="-"?console.warn("Property "+i+" cannot be reflected to attribute "+n+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(i,w.REFLECT,{fn:rn,info:{attrName:n}})}_createComputedProperty(i,n,a){let o=it(n);if(!o)throw new Error("Malformed computed expression '"+n+"'");const l=Zt(this,o,w.COMPUTE,Ks,i,a);tt(this,Vs)[i]=l}_marshalArgs(i,n,a){const o=this.__data,l=[];for(let u=0,c=i.length;u<c;u++){let{name:h,structured:d,wildcard:f,value:g,literal:p}=i[u];if(!p)if(f){const m=ze(h,n),_=es(o,a,m?n:h);g={path:m?n:h,value:_,base:m?T(o,h):_}}else g=d?es(o,a,h):o[h];if(ht&&!this._overrideLegacyUndefined&&g===void 0&&i.length>1)return be;l[u]=g}return l}static addPropertyEffect(i,n,a){this.prototype._addPropertyEffect(i,n,a)}static createPropertyObserver(i,n,a){this.prototype._createPropertyObserver(i,n,a)}static createMethodObserver(i,n){this.prototype._createMethodObserver(i,n)}static createNotifyingProperty(i){this.prototype._createNotifyingProperty(i)}static createReadOnlyProperty(i,n){this.prototype._createReadOnlyProperty(i,n)}static createReflectedProperty(i){this.prototype._createReflectedProperty(i)}static createComputedProperty(i,n,a){this.prototype._createComputedProperty(i,n,a)}static bindTemplate(i){return this.prototype._bindTemplate(i)}_bindTemplate(i,n){let a=this.constructor._parseTemplate(i),o=this.__preBoundTemplateInfo==a;if(!o)for(let l in a.propertyEffects)this._createPropertyAccessor(l);if(n)if(a=Object.create(a),a.wasPreBound=o,!this.__templateInfo)this.__templateInfo=a;else{const l=i._parentTemplateInfo||this.__templateInfo,u=l.lastChild;a.parent=l,l.lastChild=a,a.previousSibling=u,u?u.nextSibling=a:l.firstChild=a}else this.__preBoundTemplateInfo=a;return a}static _addTemplatePropertyEffect(i,n,a){let o=i.hostProps=i.hostProps||{};o[n]=!0;let l=i.propertyEffects=i.propertyEffects||{};(l[n]=l[n]||[]).push(a)}_stampTemplate(i,n){n=n||this._bindTemplate(i,!0),ue.push(this);let a=super._stampTemplate(i,n);if(ue.pop(),n.nodeList=a.nodeList,!n.wasPreBound){let o=n.childNodes=[];for(let l=a.firstChild;l;l=l.nextSibling)o.push(l)}return a.templateInfo=n,gn(this,n),this.__dataClientsReady&&(this._runEffectsForTemplate(n,this.__data,null,!1),this._flushClients()),a}_removeBoundDom(i){const n=i.templateInfo,{previousSibling:a,nextSibling:o,parent:l}=n;a?a.nextSibling=o:l&&(l.firstChild=o),o?o.previousSibling=a:l&&(l.lastChild=a),n.nextSibling=n.previousSibling=null;let u=n.childNodes;for(let c=0;c<u.length;c++){let h=u[c];Z(Z(h).parentNode).removeChild(h)}}static _parseTemplateNode(i,n,a){let o=e._parseTemplateNode.call(this,i,n,a);if(i.nodeType===Node.TEXT_NODE){let l=this._parseBindings(i.textContent,n);l&&(i.textContent=Qt(l)||" ",st(this,n,a,"text","textContent",l),o=!0)}return o}static _parseTemplateNodeAttribute(i,n,a,o,l){let u=this._parseBindings(l,n);if(u){let c=o,h="property";Wr.test(o)?h="attribute":o[o.length-1]=="$"&&(o=o.slice(0,-1),h="attribute");let d=Qt(u);return d&&h=="attribute"&&(o=="class"&&i.hasAttribute("class")&&(d+=" "+i.getAttribute(o)),i.setAttribute(o,d)),h=="attribute"&&c=="disable-upgrade$"&&i.setAttribute(o,""),i.localName==="input"&&c==="value"&&i.setAttribute(c,""),i.removeAttribute(c),h==="property"&&(o=Ds(o)),st(this,n,a,h,o,u,d),!0}else return e._parseTemplateNodeAttribute.call(this,i,n,a,o,l)}static _parseTemplateNestedTemplate(i,n,a){let o=e._parseTemplateNestedTemplate.call(this,i,n,a);const l=i.parentNode,u=a.templateInfo,c=l.localName==="dom-if",h=l.localName==="dom-repeat";jt&&(c||h)&&(l.removeChild(i),a=a.parentInfo,a.templateInfo=u,a.noted=!0,o=!1);let d=u.hostProps;if(wr&&c)d&&(n.hostProps=Object.assign(n.hostProps||{},d),jt||(a.parentInfo.noted=!0));else{let f="{";for(let g in d){let p=[{mode:f,source:g,dependencies:[g],hostProp:!0}];st(this,n,a,"property","_host_"+g,p)}}return o}static _parseBindings(i,n){let a=[],o=0,l;for(;(l=qt.exec(i))!==null;){l.index>o&&a.push({literal:i.slice(o,l.index)});let u=l[1][0],c=!!l[2],h=l[3].trim(),d=!1,f="",g=-1;u=="{"&&(g=h.indexOf("::"))>0&&(f=h.substring(g+2),h=h.substring(0,g),d=!0);let p=it(h),m=[];if(p){let{args:_,methodName:y}=p;for(let x=0;x<_.length;x++){let A=_[x];A.literal||m.push(A)}let P=n.dynamicFns;(P&&P[y]||p.static)&&(m.push(y),p.dynamicFn=!0)}else m.push(h);a.push({source:h,mode:u,negate:c,customEvent:d,signature:p,dependencies:m,event:f}),o=qt.lastIndex}if(o&&o<i.length){let u=i.substring(o);u&&a.push({literal:u})}return a.length?a:null}static _evaluateBinding(i,n,a,o,l,u){let c;return n.signature?c=gt(i,a,o,l,n.signature):a!=n.source?c=T(i,n.source):u&&ft(a)?c=T(i,a):c=i.__data[a],n.negate&&(c=!c),c}}return s}),ue=[];function Rn(t){const e={};for(let s in t){const r=t[s];e[s]=typeof r=="function"?{type:r}:r}return e}const kn=W(t=>{const e=Hs(t);function s(n){const a=Object.getPrototypeOf(n);return a.prototype instanceof i?a:null}function r(n){if(!n.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",n))){let a=null;if(n.hasOwnProperty(JSCompiler_renameProperty("properties",n))){const o=n.properties;o&&(a=Rn(o))}n.__ownProperties=a}return n.__ownProperties}class i extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const a=this._properties;this.__observedAttributes=a?Object.keys(a).map(o=>this.prototype._addPropertyToAttributeMap(o)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const a=s(this);a&&a.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const a=r(this);a&&this.createProperties(a)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const a=s(this);this.__properties=Object.assign({},a&&a._properties,r(this))}return this.__properties}static typeForProperty(a){const o=this._properties[a];return o&&o.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i});const Mn="3.5.2",ts=window.ShadyCSS&&window.ShadyCSS.cssBuild,zn=W(t=>{const e=kn(Ln(t));function s(l){if(!l.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",l))){l.__propertyDefaults=null;let u=l._properties;for(let c in u){let h=u[c];"value"in h&&(l.__propertyDefaults=l.__propertyDefaults||{},l.__propertyDefaults[c]=h)}}return l.__propertyDefaults}function r(l){return l.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",l))||(l.__ownObservers=l.hasOwnProperty(JSCompiler_renameProperty("observers",l))?l.observers:null),l.__ownObservers}function i(l,u,c,h){c.computed&&(c.readOnly=!0),c.computed&&(l._hasReadOnlyEffect(u)?console.warn(`Cannot redefine computed property '${u}'.`):l._createComputedProperty(u,c.computed,h)),c.readOnly&&!l._hasReadOnlyEffect(u)?l._createReadOnlyProperty(u,!c.computed):c.readOnly===!1&&l._hasReadOnlyEffect(u)&&console.warn(`Cannot make readOnly property '${u}' non-readOnly.`),c.reflectToAttribute&&!l._hasReflectEffect(u)?l._createReflectedProperty(u):c.reflectToAttribute===!1&&l._hasReflectEffect(u)&&console.warn(`Cannot make reflected property '${u}' non-reflected.`),c.notify&&!l._hasNotifyEffect(u)?l._createNotifyingProperty(u):c.notify===!1&&l._hasNotifyEffect(u)&&console.warn(`Cannot make notify property '${u}' non-notify.`),c.observer&&l._createPropertyObserver(u,c.observer,h[c.observer]),l._addPropertyToAttributeMap(u)}function n(l,u,c,h){if(!ts){const d=u.content.querySelectorAll("style"),f=Ms(u),g=Nr(c),p=u.content.firstElementChild;for(let _=0;_<g.length;_++){let y=g[_];y.textContent=l._processStyleText(y.textContent,h),u.content.insertBefore(y,p)}let m=0;for(let _=0;_<f.length;_++){let y=f[_],P=d[m];P!==y?(y=y.cloneNode(!0),P.parentNode.insertBefore(y,P)):m++,y.textContent=l._processStyleText(y.textContent,h)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(u,c),vr&&ts&&pr){const d=u.content.querySelectorAll("style");if(d){let f="";Array.from(d).forEach(g=>{f+=g.textContent,g.parentNode.removeChild(g)}),l._styleSheet=new CSSStyleSheet,l._styleSheet.replaceSync(f)}}}function a(l){let u=null;if(l&&(!dt||mr)&&(u=_e.import(l,"template"),dt&&!u))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${l}`);return u}class o extends e{static get polymerElementVersion(){return Mn}static _finalizeClass(){e._finalizeClass.call(this);const u=r(this);u&&this.createObservers(u,this._properties),this._prepareTemplate()}static _prepareTemplate(){let u=this.template;u&&(typeof u=="string"?(console.error("template getter must return HTMLTemplateElement"),u=null):_r||(u=u.cloneNode(!0))),this.prototype._template=u}static createProperties(u){for(let c in u)i(this.prototype,c,u[c],u)}static createObservers(u,c){const h=this.prototype;for(let d=0;d<u.length;d++)h._createMethodObserver(u[d],c)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let u=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;typeof u=="function"&&(u=u()),this._template=u!==void 0?u:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&a(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(u){this._template=u}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const u=this.importMeta;if(u)this._importPath=St(u.url);else{const c=_e.import(this.is);this._importPath=c&&c.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=gr,this.importPath=this.constructor.importPath;let u=s(this.constructor);if(u)for(let c in u){let h=u[c];if(this._canApplyPropertyDefault(c)){let d=typeof h.value=="function"?h.value.call(this):h.value;this._hasAccessor(c)?this._setPendingProperty(c,d,!0):this[c]=d}}}_canApplyPropertyDefault(u){return!this.hasOwnProperty(u)}static _processStyleText(u,c){return xt(u,c)}static _finalizeTemplate(u){const c=this.prototype._template;if(c&&!c.__polymerFinalized){c.__polymerFinalized=!0;const h=this.importPath,d=h?ge(h):"";n(this,c,u,d),this.prototype._bindTemplate(c)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(u){const c=Z(this);if(c.attachShadow)return u?(c.shadowRoot||(c.attachShadow({mode:"open",shadyUpgradeFragment:u}),c.shadowRoot.appendChild(u),this.constructor._styleSheet&&(c.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),br&&window.ShadyDOM&&window.ShadyDOM.flushInitial(c.shadowRoot),c.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(u){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,u)}resolveUrl(u,c){return!c&&this.importPath&&(c=ge(this.importPath)),ge(u,c)}static _parseTemplateContent(u,c,h){return c.dynamicFns=c.dynamicFns||this._properties,e._parseTemplateContent.call(this,u,c,h)}static _addTemplatePropertyEffect(u,c,h){return yr&&!(c in this._properties)&&!(h.info.part.signature&&h.info.part.signature.static)&&!h.info.part.hostProp&&!u.nestedTemplate&&console.warn(`Property '${c}' used in template but not declared in 'properties'; attribute will not be observed.`),e._addTemplatePropertyEffect.call(this,u,c,h)}}return o});window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:t=>t});const In=zn(HTMLElement),b=t=>typeof t=="string",ce=()=>{let t,e;const s=new Promise((r,i)=>{t=r,e=i});return s.resolve=t,s.reject=e,s},ss=t=>t==null?"":""+t,Dn=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},Fn=/###/g,is=t=>t&&t.indexOf("###")>-1?t.replace(Fn,"."):t,rs=t=>!t||b(t),me=(t,e,s)=>{const r=b(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(rs(t))return{};const n=is(r[i]);!t[n]&&s&&(t[n]=new s),Object.prototype.hasOwnProperty.call(t,n)?t=t[n]:t={},++i}return rs(t)?{}:{obj:t,k:is(r[i])}},ns=(t,e,s)=>{const{obj:r,k:i}=me(t,e,Object);if(r!==void 0||e.length===1){r[i]=s;return}let n=e[e.length-1],a=e.slice(0,e.length-1),o=me(t,a,Object);for(;o.obj===void 0&&a.length;)n=`${a[a.length-1]}.${n}`,a=a.slice(0,a.length-1),o=me(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${n}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${n}`]=s},jn=(t,e,s,r)=>{const{obj:i,k:n}=me(t,e,Object);i[n]=i[n]||[],i[n].push(s)},Fe=(t,e)=>{const{obj:s,k:r}=me(t,e);if(s)return s[r]},Hn=(t,e,s)=>{const r=Fe(t,s);return r!==void 0?r:Fe(e,s)},Zs=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?b(t[r])||t[r]instanceof String||b(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):Zs(t[r],e[r],s):t[r]=e[r]);return t},Q=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Un={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Bn=t=>b(t)?t.replace(/[&<>"'\/]/g,e=>Un[e]):t;class Vn{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Yn=[" ",",","?","!",";"],Kn=new Vn(20),Jn=(t,e,s)=>{e=e||"",s=s||"";const r=Yn.filter(a=>e.indexOf(a)<0&&s.indexOf(a)<0);if(r.length===0)return!0;const i=Kn.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let n=!i.test(t);if(!n){const a=t.indexOf(s);a>0&&!i.test(t.substring(0,a))&&(n=!0)}return n},mt=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(s);let i=t;for(let n=0;n<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=n;l<r.length;++l)if(l!==n&&(o+=s),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;n+=l-n+1;break}i=a}return i},je=t=>t&&t.replace("_","-"),Xn={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class He{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Xn,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,i){return i&&!this.debug?null:(b(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new He(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new He(this.logger,e)}}var F=new He;class Ge{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(s)||0;this.observers[r].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...r])})}}class as extends Ge{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,s],r&&(Array.isArray(r)?o.push(...r):b(r)&&n?o.push(...r.split(n)):o.push(r)));const l=Fe(this.data,o);return!l&&!s&&!r&&e.indexOf(".")>-1&&(e=o[0],s=o[1],r=o.slice(2).join(".")),l||!a||!b(r)?l:mt(this.data&&this.data[e]&&this.data[e][s],r,n)}addResource(e,s,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=[e,s];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=s,s=o[1]),this.addNamespaces(s),ns(this.data,o,i),n.silent||this.emit("added",e,s,r,i)}addResources(e,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const n in r)(b(r[n])||Array.isArray(r[n]))&&this.addResource(e,s,n,r[n],{silent:!0});i.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,i,n){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,s];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=s,s=o[1]),this.addNamespaces(s);let l=Fe(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Zs(l,r,n):l={...l,...r},ns(this.data,o,l),a.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var Ws={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,i){return t.forEach(n=>{this.processors[n]&&(e=this.processors[n].process(e,s,r,i))}),e}};const os={};class Ue extends Ge{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Dn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=F.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,s);return r&&r.res!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let n=s.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Jn(e,r,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:b(n)?[n]:n};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(n=u.shift()),e=u.join(i)}return{key:e,namespaces:b(n)?[n]:n}}translate(e,s,r){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],s),l=o[o.length-1],u=s.lng||this.language,c=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=s.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${x}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:`${l}${x}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:a}const h=this.resolve(e,s);let d=h&&h.res;const f=h&&h.usedKey||a,g=h&&h.exactUsedKey||a,p=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],_=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,P=!b(d)&&typeof d!="boolean"&&typeof d!="number";if(y&&d&&P&&m.indexOf(p)<0&&!(b(_)&&Array.isArray(d))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...s,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=x,h.usedParams=this.getUsedParamsDetails(s),h):x}if(n){const x=Array.isArray(d),A=x?[]:{},N=x?g:f;for(const O in d)if(Object.prototype.hasOwnProperty.call(d,O)){const M=`${N}${n}${O}`;A[O]=this.translate(M,{...s,joinArrays:!1,ns:o}),A[O]===M&&(A[O]=d[O])}d=A}}else if(y&&b(_)&&Array.isArray(d))d=d.join(_),d&&(d=this.extendTranslation(d,e,s,r));else{let x=!1,A=!1;const N=s.count!==void 0&&!b(s.count),O=Ue.hasDefaultValue(s),M=N?this.pluralResolver.getSuffix(u,s.count,s):"",K=s.ordinal&&N?this.pluralResolver.getSuffix(u,s.count,{ordinal:!1}):"",J=N&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),E=J&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${M}`]||s[`defaultValue${K}`]||s.defaultValue;!this.isValidLookup(d)&&O&&(x=!0,d=E),this.isValidLookup(d)||(A=!0,d=a);const Qs=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:d,re=O&&E!==d&&this.options.updateMissing;if(A||x||re){if(this.logger.log(re?"updateKey":"missingKey",u,l,a,re?E:d),n){const L=this.resolve(a,{...s,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ne=[];const we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(let L=0;L<we.length;L++)ne.push(we[L]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(s.lng||this.language):ne.push(s.lng||this.language);const At=(L,X,ae)=>{const Nt=O&&ae!==d?ae:Qs;this.options.missingKeyHandler?this.options.missingKeyHandler(L,l,X,Nt,re,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(L,l,X,Nt,re,s),this.emit("missingKey",L,l,X,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?ne.forEach(L=>{const X=this.pluralResolver.getSuffixes(L,s);J&&s[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(ae=>{At([L],a+ae,s[`defaultValue${ae}`]||E)})}):At(ne,a,E))}d=this.extendTranslation(d,e,s,h,r),A&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(A||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(s),h):d}extendTranslation(e,s,r,i,n){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=b(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let h=r.replace&&!b(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const d=e.match(this.interpolator.nestingRegexp),f=d&&d.length;c<f&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return n&&n[0]===f[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${s[0]}`),null):a.translate(...f,s)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=b(o)?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=Ws.handle(l,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,n,a,o;return b(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,s),c=u.key;i=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=s.count!==void 0&&!b(s.count),f=d&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),g=s.context!==void 0&&(b(s.context)||typeof s.context=="number")&&s.context!=="",p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(m=>{this.isValidLookup(r)||(o=m,!os[`${p[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(os[`${p[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(_=>{if(this.isValidLookup(r))return;a=_;const y=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,c,_,m,s);else{let x;d&&(x=this.pluralResolver.getSuffix(_,s.count,s));const A=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(y.push(c+x),s.ordinal&&x.indexOf(N)===0&&y.push(c+x.replace(N,this.options.pluralSeparator)),f&&y.push(c+A)),g){const O=`${c}${this.options.contextSeparator}${s.context}`;y.push(O),d&&(y.push(O+x),s.ordinal&&x.indexOf(N)===0&&y.push(O+x.replace(N,this.options.pluralSeparator)),f&&y.push(O+A))}}let P;for(;P=y.pop();)this.isValidLookup(r)||(n=P,r=this.getResource(_,m,P,s))}))})}),{res:r,usedKey:i,exactUsedKey:n,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,r,i):this.resourceStore.getResource(e,s,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!b(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const n of s)delete i[n]}return i}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}const rt=t=>t.charAt(0).toUpperCase()+t.slice(1);class ls{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=F.create("languageUtils")}getScriptPartFromCode(e){if(e=je(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=je(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(b(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=rt(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),s.indexOf(r[1].toLowerCase())>-1&&(r[1]=rt(r[1].toLowerCase())),s.indexOf(r[2].toLowerCase())>-1&&(r[2]=rt(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(n=>{if(n===i)return n;if(!(n.indexOf("-")<0&&i.indexOf("-")<0)&&(n.indexOf("-")>0&&i.indexOf("-")<0&&n.substring(0,n.indexOf("-"))===i||n.indexOf(i)===0&&i.length>1))return n})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),b(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes(s||this.options.fallbackLng||[],e),i=[],n=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return b(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):b(e)&&n(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&n(this.formatLanguageCode(a))}),i}}let Gn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Zn={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Wn=["v1","v2","v3"],qn=["v4"],us={zero:0,one:1,two:2,few:3,many:4,other:5},Qn=()=>{const t={};return Gn.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:Zn[e.fc]}})}),t};class ea{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=F.create("pluralResolver"),(!this.options.compatibilityJSON||qn.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Qn(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=je(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:r,type:i});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,s)}return this.pluralRulesCache[n]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${s}${i}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,n)=>us[i]-us[n]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,s)):[]}getSuffix(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const r=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const n=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:n():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?n():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Wn.includes(this.options.compatibilityJSON)}}const cs=function(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,n=Hn(t,e,s);return!n&&i&&b(s)&&(n=mt(t,s,r),n===void 0&&(n=mt(e,s,r))),n},nt=t=>t.replace(/\$/g,"$$$$");class ta{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=F.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:i,prefix:n,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:_,alwaysFormat:y}=e.interpolation;this.escape=s!==void 0?s:Bn,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=n?Q(n):a||"{{",this.suffix=o?Q(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Q(d):f||Q("$t("),this.nestingSuffix=g?Q(g):p||Q(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=_||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>s&&s.source===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,r,i){let n,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=f=>{if(f.indexOf(this.formatSeparator)<0){const _=cs(s,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...i,...s,interpolationkey:f}):_}const g=f.split(this.formatSeparator),p=g.shift().trim(),m=g.join(this.formatSeparator).trim();return this.format(cs(s,l,p,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...i,...s,interpolationkey:p})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>nt(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?nt(this.escape(f)):nt(f)}].forEach(f=>{for(o=0;n=f.regex.exec(e);){const g=n[1].trim();if(a=u(g),a===void 0)if(typeof c=="function"){const m=c(e,n,i);a=b(m)?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(h){a=n[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!b(a)&&!this.useRawValueToEscape&&(a=ss(a));const p=f.safeValue(a);if(e=e.replace(n[0],p),h?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=n[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,n,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,a);const f=d.match(/'/g),g=d.match(/"/g);(f&&f.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,p),`${l}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!b(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=c.shift(),l=c,u=!0}if(n=s(o.call(this,i[1].trim(),a),a),n&&i[0]===e&&!b(n))return n;b(n)||(n=ss(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),u&&(n=l.reduce((c,h)=>this.format(c,h,r.lng,{...r,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}const sa=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();s[c]||(s[c]=u),u==="false"&&(s[c]=!1),u==="true"&&(s[c]=!0),isNaN(u)||(s[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:s}},ee=t=>{const e={};return(s,r,i)=>{let n=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(n={...n,[i.interpolationkey]:void 0});const a=r+JSON.stringify(n);let o=e[a];return o||(o=t(je(r),i),e[a]=o),o(s)}};class ia{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=F.create("formatter"),this.options=e,this.formats={number:ee((s,r)=>{const i=new Intl.NumberFormat(s,{...r});return n=>i.format(n)}),currency:ee((s,r)=>{const i=new Intl.NumberFormat(s,{...r,style:"currency"});return n=>i.format(n)}),datetime:ee((s,r)=>{const i=new Intl.DateTimeFormat(s,{...r});return n=>i.format(n)}),relativetime:ee((s,r)=>{const i=new Intl.RelativeTimeFormat(s,{...r});return n=>i.format(n,r.range||"day")}),list:ee((s,r)=>{const i=new Intl.ListFormat(s,{...r});return n=>i.format(n)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=ee(s)}format(e,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=s.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(o=>o.indexOf(")")>-1)){const o=n.findIndex(l=>l.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,o)].join(this.formatSeparator)}return n.reduce((o,l)=>{const{formatName:u,formatOptions:c}=sa(l);if(this.formats[u]){let h=o;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=d.locale||d.lng||i.locale||i.lng||r;h=this.formats[u](o,f,{...c,...i,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const ra=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class na extends Ge{constructor(e,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=F.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,s,r,i){const n={},a={},o={},l={};return e.forEach(u=>{let c=!0;s.forEach(h=>{const d=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),n[d]===void 0&&(n[d]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(o[u]=!0)}),(Object.keys(n).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(n),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,s,r){const i=e.split("|"),n=i[0],a=i[1];s&&this.emit("failedLoading",n,a,s),!s&&r&&this.store.addResourceBundle(n,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{jn(l.loaded,[n],a),ra(l,e),s&&l.errors.push(s),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,s,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:i,wait:n,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,i+1,n*2,a)},n);return}a(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,s);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,s,o)}prepareLoading(e,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();b(e)&&(e=this.languageUtils.toResolveHierarchy(e)),b(s)&&(s=[s]);const n=this.queueLoad(e,s,r,i);if(!n.toLoad.length)return n.pending.length||i(),null;n.toLoad.forEach(a=>{this.loadOne(a)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],n=r[1];this.read(i,n,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${s}loading namespace ${n} for language ${i} failed`,a),!a&&o&&this.logger.log(`${s}loaded namespace ${n} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,s,r,i,n){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:n},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,s,r,i,l):c=u(e,s,r,i),c&&typeof c.then=="function"?c.then(h=>o(null,h)).catch(o):o(null,c)}catch(c){o(c)}else u(e,s,r,i,o,l)}!e||!e[0]||this.store.addResource(e[0],s,r,i)}}}const ds=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),b(t[1])&&(e.defaultValue=t[1]),b(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),hs=t=>(b(t.ns)&&(t.ns=[t.ns]),b(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),b(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Ce=()=>{},aa=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Pe extends Ge{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=hs(e),this.services={},this.logger=F,this.modules={external:[]},aa(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(r=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(b(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=ds();this.options={...i,...this.options,...hs(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const n=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?F.init(n(this.modules.logger),this.options):F.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=ia);const h=new ls(this.options);this.store=new as(this.options.resources,this.options);const d=this.services;d.logger=F,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new ea(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=n(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new ta(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new na(n(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(f){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];e.emit(f,...p)}),this.modules.languageDetector&&(d.languageDetector=n(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=n(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Ue(this.services,this.options),this.translator.on("*",function(f){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];e.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ce),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ce(),u=()=>{const c=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce;const i=b(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const n=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&n.indexOf(u)<0&&n.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(n,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,s,r){const i=ce();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=Ce),this.services.backendConnector.reload(e,s,n=>{i.resolve(),r(n)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ws.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,s){var r=this;this.isLanguageChangingTo=e;const i=ce();this.emit("languageChanging",e);const n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(n(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),s&&s(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=b(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||n(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,s,r){var i=this;const n=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||n.lng,l.lngs=l.lngs||n.lngs,l.ns=l.ns||n.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||n.keyPrefix);const d=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(a)?f=a.map(g=>`${l.keyPrefix}${d}${g}`):f=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,i.t(f,l)};return b(e)?n.lng=e:n.lngs=e,n.ns=s,n.keyPrefix=r,n}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(s.precheck){const o=s.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(n,e)))}loadNamespaces(e,s){const r=ce();return this.options.ns?(b(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),s&&s(i)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=ce();b(e)&&(e=[e]);const i=this.options.preload||[],n=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return n.length?(this.options.preload=i.concat(n),this.loadResources(a=>{r.resolve(),s&&s(a)}),r):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new ls(ds());return s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Pe(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},n=new Pe(i);return(e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(o=>{n[o]=this[o]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r&&(n.store=new as(this.store.data,i),n.services.resourceStore=n.store),n.translator=new Ue(n.services,i),n.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];n.emit(o,...u)}),n.init(i,s),n.translator.options=i,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const S=Pe.createInstance();S.createInstance=Pe.createInstance;S.createInstance;S.dir;S.init;S.loadResources;S.reloadResources;S.use;S.changeLanguage;S.getFixedT;S.t;S.exists;S.setDefaultNamespace;S.hasLoadedNamespace;S.loadNamespaces;S.loadLanguages;const Ae=[],Ze=()=>{S.isInitialized||S.init({lng:"en",resStore:{en:{}},fallbackLng:!1})},We=t=>t.reduce((e,s,r)=>(e.count===void 0&&typeof s=="number"&&(e.count=s),typeof s=="object"?{...e,...s}:(e[r]=s,e)),{}),I=function(t){Ze();const e=We([...arguments].slice(1));return delete e.count,S.t(t,e)},oa=function(t,e){Ze();const s=We([...arguments].slice(2)),r=s.count;let i;delete s.count;const n=S.services.pluralResolver.getSuffix(S.language,r);return n?(s.defaultValue=e,i=t+n):(i=t,s.defaultValue=t),S.t(i,s)},la=function(t,e){Ze();const s=We([...arguments].slice(2));return s.context=t,delete s.count,S.t(e,s)},ua=function(t,e,s){Ze();const r=We([...arguments].slice(3)),i=r.count,n=t?"_"+t:"";let a=e;delete r.count;const o=S.services.pluralResolver.getSuffix(S.language,i);return o?(r.defaultValue=s,a=e+n+o):(a=e,r.context=t),S.t(a,r)},ca=(t,e,s)=>{S.init({resources:{}}),S.addResourceBundle(t,e,s)};W(t=>class extends t{static get properties(){return{t:{type:Object,value(){return{}}}}}_filterT(e){return e.filter(s=>s!==this.t)}_(){return I.apply(null,this._filterT([...arguments]))}connectedCallback(){super.connectedCallback(),Ae.push(this)}disconnectedCallback(){super.disconnectedCallback();const e=Ae.indexOf(this);e>=0&&Ae.splice(e,1)}gettext(){return I.apply(null,this._filterT([...arguments]))}ngettext(){return oa.apply(null,this._filterT([...arguments]))}pgettext(){return la.apply(null,this._filterT([...arguments]))}npgettext(){return ua.apply(null,this._filterT([...arguments]))}});class da extends In{static get properties(){return{compatibilityJSON:{type:String,value:"v3"},domain:{type:String,value:"messages"},interpolationPrefix:{type:String,value:"__"},interpolationSuffix:{type:String,value:"__"},language:{type:String,value:"en"},namespace:{type:String,value:"translation"},translations:{type:Object,observer(e){e!=null&&(ca(this.language,this.namespace,e),Ae.forEach(s=>s.set("t",{})))}},keySeparator:{type:String,value:"."},nsSeparator:{type:String,value:":"}}}ready(){super.ready(),S.init({compatibilityJSON:this.compatibilityJSON,interpolation:{escapeValue:!1,prefix:this.interpolationPrefix,suffix:this.interpolationSuffix},keySeparator:this.keySeparator,lng:this.language,nsSeparator:this.nsSeparator,resStore:{}})}}customElements.define("cosmoz-i18next",da);const fs=()=>document.createComment(""),ha=Be(Y,new DocumentFragment).constructor;class fa extends HTMLElement{onDisconnect;disconnectedCallback(){this.onDisconnect?.()}}customElements.define("disconnect-observer",fa);class pa extends Pt{_op;_outlet;_content;render(e,s=document.body){return v`<disconnect-observer
			.onDisconnect=${()=>{this.isConnected=!1,this.disconnected()}}
		></disconnect-observer>`}update(e,[s,r=document.body]){return this.updateOutlet(r,s),this.render(s,r)}updateOutlet(e,s){this._outlet!==e&&this.clearOutlet(),this._outlet=e;const r=this._op??=new ha(e.appendChild(fs()),e.appendChild(fs()));B(r,this._content=s)}clearOutlet(){const e=this._op;e&&(ii(e),Oe(e),this._op=void 0)}disconnected(){this.clearOutlet()}reconnected(){this._outlet&&this._content&&this.updateOutlet(this._outlet,this._content)}}const ga=ie(pa);function z(t,e,s){return t?e(t):s?.(t)}const ma=`:host {
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: auto;
}

:host([fullscreen]) {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: black;
    z-index: 1000;
}

.flex { flex: auto; }

#imageContainer {
    height: 100%;
    overflow-y: auto;
}

.actions {
    position: absolute;
    left: 0;
    right: 0;
    margin: 12px;
    display: flex;
    align-items: center;
}

.nav.counter {
    position: absolute;
    left: calc(50% - 32px);
    margin-top: 22px;
    width: 40px;
    padding: 4px 10px;
    border-radius: 30px;
    text-align: center;
    font-weight: 100;
    font-size: 1em;
}

.nav {
    z-index: +1;
    opacity: 0.5;
    color: rgba(255, 255, 255, 0.87);
    opacity: 1;
    background-color: rgba(0, 0, 0, 0.44);
    border-radius: 20px;
    margin: 3px;
}

button.nav {
    border: none;
    width: 40px;
    height: 40px;
    transition: background-color 100ms;
}

button.nav:not([disabled]) {
    cursor: pointer;
}

button.nav[disabled] {
    opacity: 0.5;
}

button.nav:active:not([disabled]) {
    background-color: rgba(0, 0, 0, 0.60);
}

.nav:not(:hover) {
    visibility: hidden;
}

:host(:hover) .nav {
    visibility: visible;
}

.image {
    background-color: gray;
    pointer-events: none;
    /* Needed to override Chrome 73+ handling of iron-image overflow hidden */
    overflow: visible;
}

.image-zoom {
    flex: auto;
    display: flex;
    justify-content: center;
    background-color: black;
    height: 100vh;
}

.error {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    z-index: +1;
    text-align: center;
    background: rgba(0,0,0,0.5);
    padding: 20px;
}

.error .desc {
    padding-top: 1em;
    opacity: 0.8;
    font-size: 0.8em;
}

cosmoz-slider { 
    min-height: 150px;
    overflow-y: auto !important;
    height:100%;
}

cz-spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    translate: -50% -50%;
}
`,_a=()=>v`<style>
	@keyframes rotating {
		100% {
			transform: rotate(360deg);
		}
	}

	:host {
		display: inline-block;
		vertical-align: middle;
		border-radius: 50%;
		width: 22px;
		height: 22px;
		border: 2px solid rgba(0, 0, 0, 0.1);
		border-top: 2px solid #5f5a92;
		animation: rotating 1.2s infinite cubic-bezier(0.785, 0.135, 0.15, 0.86);
		box-sizing: border-box;
		margin: 0 4px;
	}
</style>`;customElements.define("cz-spinner",Ke(_a));const ya=/([A-Z])/gu,ba=(t,e,s)=>{t[e]=s,t.dispatchEvent(new CustomEvent(e.replace(ya,"-$1").toLowerCase()+"-changed",{detail:{value:s}}))},ps=(t,e,s=[e])=>{const r=As();$(()=>{ba(r,t,e)},s)},Et=(t,...e)=>typeof t=="function"?t(...e):t,Pa=(t,e)=>{const s=t.width/t.height,r=e.width/e.height;return s>r?{width:e.width,height:t.height*(e.width/t.width)}:{width:t.width*(e.height/t.height),height:e.height}},wa=async(t,e)=>{const s={credentials:"include"},[{jsPDF:r},...i]=await Promise.all([ri(()=>import("./jspdf.es-B1tcw0N2.js").then(o=>o.j),__vite__mapDeps([0,1]),import.meta.url),...t.map(async o=>{const l=await Promise.resolve(Et(o)),u=await fetch(l,s);return u.ok?{url:l,data:new Uint8Array(await u.arrayBuffer())}:void 0})]),n=i.filter(Boolean);if(n.length<1)return;const a=new r;return n.filter(Boolean).forEach(({url:o,data:l},u)=>{const{internal:{pageSize:h}}=a,{width:d,height:f}=Pa(a.getImageProperties(l),{width:h.getWidth()-4,height:h.getHeight()-4});u>0&&a.addPage(),a.addImage(l,o.split(".").pop().toUpperCase(),2,2,d,f)}),a.output("blob")},va=(t,e)=>{const s=URL.createObjectURL(t),r=document.body.appendChild(document.createElement("a"));r.href=s,r.download=`${e}.pdf`,r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)},xa=async(t,e,s)=>{const r=await wa(t);if(r)return va(r,e),r},Sa=t=>Object.entries(t).map(([e,s])=>e+"="+s).join(",");let _t=!1;const Ca=({images:t,index:e,syncImageIndex:s,title:r,loop:i,detachedShowZoom:n,onDetach:a,onClose:o})=>{const l=window.open(void 0,"czimgviewer",Sa({height:700,width:800}));Be(v`<style>
				html {
					background: #000;
				}
			</style>
			<cosmoz-image-viewer
				fullscreen
				.images="${t}"
				.currentImageIndex=${e}
				@current-image-index-changed=${s}
				show-nav
				?show-zoom=${n}
				show-close
				?loop=${i}
				@close=${()=>l.close()}
			></cosmoz-image-viewer>`,l.document.body),l._onClose?.(),a(),_t=!0,l._onClose=o,l.addEventListener("beforeunload",o),l.addEventListener("beforeunload",()=>_t=!1),l.document.title=r??I("Cosmoz image viewer")};class Oa{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class Ea{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(e=>this.Z=e)}resume(){this.Z?.(),this.Y=this.Z=void 0}}const gs=t=>!ni(t)&&typeof t.then=="function",ms=1073741823;class Aa extends Pt{constructor(){super(...arguments),this._$Cwt=ms,this._$Cbt=[],this._$CK=new Oa(this),this._$CX=new Ea}render(...e){return e.find(s=>!gs(s))??se}update(e,s){const r=this._$Cbt;let i=r.length;this._$Cbt=s;const n=this._$CK,a=this._$CX;this.isConnected||this.disconnected();for(let o=0;o<s.length&&!(o>this._$Cwt);o++){const l=s[o];if(!gs(l))return this._$Cwt=o,l;o<i&&l===r[o]||(this._$Cwt=ms,i=0,Promise.resolve(l).then(async u=>{for(;a.get();)await a.get();const c=n.deref();if(c!==void 0){const h=c._$Cbt.indexOf(l);h>-1&&h<c._$Cwt&&(c._$Cwt=h,c.setValue(u))}}))}return se}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const yt=ie(Aa),Na=t=>new Promise(e=>{const s=setInterval(()=>{t()&&(e(),clearInterval(s))},100)}),$a=({images:t})=>{const e=window.open(void 0,"czimgviewerprint");Be(v`<style>
				img {
					display: block;
					page-break-inside: avoid;
					page-break-after: always;
					max-height: 100%;
					width: 100%;
				}
			</style>
			${t.map(s=>v`<img src="${yt(Promise.resolve(Et(s)))}" />`)}`,e.document.body),Na(()=>Array.from(e.document.querySelectorAll("img")).every(s=>s.src&&s.complete)).then(()=>e.print()).then(()=>e.close())},Ta=Symbol("memo"),La=t=>{let e=Ta,s;return function(r){if(e===r)return s;const i=t(r);return s=i,e=r,i}},qs=t=>{if(!t.currentTarget.parentElement)return;t.currentTarget.parentElement.querySelector(".error").removeAttribute("hidden"),t.currentTarget.setAttribute("hidden",!0)},Ra=t=>t.detail.value==="error"&&qs(t),ka=({src$:t,showZoom:e,isZoomed:s,_onZoomChanged:r})=>{const i=Te(t,()=>yt(t));return[e?v`<haunted-pan-zoom
						class="image-zoom"
						.src=${i}
						?disabled=${!s}
						@zoom-changed=${r}
						@status-changed=${Ra}
				  ></haunted-pan-zoom>`:v`<img
						class="image"
						.src=${i}
						style="width:100%"
						@error=${qs}
				  />`,Te(t,()=>yt(t.then(()=>Y),v`<cz-spinner></cz-spinner>`))]},Ma=t=>v`<div>
			<div hidden class="error">
				<h2>An error occurred while loading the image.</h2>
				<div class="desc">${t.image}</div>
			</div>
			${ka(t)}
		</div>`,za=[],Ia=t=>{const{images:e=za,showZoom:s,title:r,downloadFileName:i="archive",loop:n,detachedShowZoom:a}=t,[o,l]=V(!1),u=k=>l(k.detail.value>1),c=D(()=>La(k=>Promise.resolve(Et(k))),[]),{slide:h,next:d,prev:f,goto:g,index:p,first:m,last:_}=Ii(e,{loop:n,initial:e?.[t.currentImageIndex],render:k=>Ma({src$:c(k),showZoom:s,isZoomed:o,_onZoomChanged:u})}),[y,P]=V(!1),x=()=>P(!0),A=()=>P(!1),N=k=>g(k.detail.value),[O,M]=V(!1),K=C(()=>Ca({images:e,index:p,title:r,loop:n,syncImageIndex:N,detachedShowZoom:a,onDetach:()=>M(!0),onClose:()=>M(!1)}),[e,p,r,n]),J=C(()=>{_t&&K()},[K]),E=k=>M(k.detail.value);return ps("currentImageIndex",p,[p]),$(()=>{t.toggleAttribute("hidden",O)},[O]),ps("detached",O,[O]),Es({syncState:J},[J]),{host:t,isZoomed:o,currentSlide:h,nextImage:d,previousImage:f,first:m,last:_,total:e.length,currentImageIndex:p,selectedImageNumber:p+1,syncImageIndex:N,onDownloadPdf:()=>xa(e,i),isFullscreen:y,openFullscreen:x,closeFullscreen:A,onPrintPdf:()=>$a({images:e}),detached:O,detach:K,syncDetachedState:E}},Da=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<path
		d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
		fill="currentColor"
	></path>
</svg>`,Fa=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<path
		d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"
		fill="currentColor"
	></path>
</svg>`,ja=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			fill="currentColor"
			d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"
		></path>
	</g>
</svg>`,Ha=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"
			fill="currentColor"
		></path>
	</g>
</svg>`,Ua=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"
			fill="currentColor"
		></path>
	</g>
</svg>`,Ba=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"
			fill="currentColor"
		></path>
	</g>
</svg>`,Va=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"
			fill="currentColor"
		></path>
	</g>
</svg>`,Ya=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"
			fill="currentColor"
		></path>
	</g>
</svg>`,Ka=v`<svg
	viewBox="0 0 24 24"
	preserveAspectRatio="xMidYMid meet"
	focusable="false"
	width="24"
	height="24"
>
	<g>
		<path
			d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
            fill="currentColor"
		></path>
	</g>
</svg>`,Ja=t=>t?Va:Ba,U=(t,e,s=1)=>t?e>=s:!1,Xa=t=>{const e=t.target.getRootNode().querySelector("haunted-pan-zoom");if(e.zoom>1)return e.zoomTo(1);e.zoomTo(1.5)},Ga=({host:t,isZoomed:e,currentSlide:s,nextImage:r,previousImage:i,total:n,first:a,last:o,currentImageIndex:l,selectedImageNumber:u,syncImageIndex:c,onDownloadPdf:h,isFullscreen:d,openFullscreen:f,closeFullscreen:g,onPrintPdf:p,detach:m,detached:_,syncDetachedState:y})=>_?Y:v`
				<style>
					${ma}
				</style>

				${z(U(t.showPageNumber,n),()=>v` <div class="nav counter">
							${u}/${n}
						</div>`)}

				<div class="actions layout horizontal center">
					${z(U(t.showNav,n,2),()=>v`
							<button
								class="nav"
								name="prev"
								?disabled=${a}
								@click=${i}
							>
								${Da}
							</button>
							<button
								class="nav"
								name="next"
								?disabled=${o}
								@click=${r}
							>
								${Fa}
							</button>
						`)}
					<div class="flex"></div>
					${z(U(t.showZoom,n),()=>v`<button
								class="nav"
								@click="${Xa}"
								title="${I("Zoom image")}"
							>
								${Ja(e)}
							</button>`)}
					${z(U(t.showDetach,n),()=>v`<button
								class="nav"
								@click=${m}
								title="${I("Detach image to separate window")}"
							>
								${ja}
							</button>`)}
					${z(U(!0,n),()=>v`<button
								class="nav"
								@click=${h}
								title="${I("Download images")}"
							>
								${Ha}
							</button>`)}
					${z(U(!0,n),()=>v`<button
								class="nav"
								@click=${p}
								title="${I("Print images")}"
							>
								${Ua}
							</button>`)}
					${z(U(t.showFullscreen,n),()=>v`<button
								class="nav"
								@click="${f}"
								title="${I("Fullscreen image")}"
							>
								${Ya}
							</button>`)}
					${z(U(t.showClose,n),()=>v` <button
								class="nav"
								@click="${()=>t.dispatchEvent(new CustomEvent("close"))}"
								title="${I("Close fullscreen")}"
							>
								${Ka}
							</button>`)}
				</div>

				<div id="imageContainer">
					${z(n===0,()=>v`<p>${I("No image loaded.")}</p>`)}
					<cosmoz-slider id="slider" .slide="${s}"></cosmoz-slider>
				</div>

				${z(d,()=>ga(v`<cosmoz-image-viewer
							fullscreen
							.images="${t.images}"
							show-nav
							show-zoom
							show-close
							@close=${g}
							.currentImageIndex=${l}
							@current-image-index-changed=${c}
							@detached-changed=${y}
							?show-detach=${t.showDetach}
							?loop=${t.loop}
						></cosmoz-image-viewer>`))}
		  `,Za=t=>Ga(Ia(t));customElements.define("cosmoz-image-viewer",Ke(Za,{observedAttributes:["download-file-name","show-close","show-detach","show-fullscreen","show-nav","show-page-number","show-zoom","detached-show-zoom","loop","title"]}));
