import{_ as d}from"./iframe-CsgsuRTS.js";const c=async()=>{await d(()=>import("./cosmoz-image-viewer_false-Dp6IgsPT.js"),[],import.meta.url);const t=globalThis["pdfjs-dist/build/pdf"]??globalThis.pdfjsLib;if(!t)throw new Error("cosmoz-image-viewer: pdfjs-dist is required for PDF support. Install it as a dependency and configure the worker.");return t},g=async(t,r)=>{const e=await t.getPage(r+1),a=e.getViewport({scale:1}),i=Math.max(800,globalThis.innerWidth??800)/a.width,o=e.getViewport({scale:i}),s=document.createElement("canvas"),n=s.getContext("2d");return s.width=Math.floor(o.width),s.height=Math.floor(o.height),await e.render({canvasContext:n,viewport:o}).promise,s.toDataURL()},l=async(t,r={})=>{const e=await c(),a=await e.getDocument({url:t,...r}).promise;return{numPages:a.numPages,getPageDataUrl:i=>g(a,i)}},m=async(t,r={})=>{const{numPages:e,getPageDataUrl:a}=await l(t,r);return Array.from({length:e},(i,o)=>a(o))};export{l as loadPdf,m as loadPdfPages};
